‚
ZC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\App_Start\BundleConfig.cs
	namespace 	
OnlineShopping
 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) ;
); <
.< =
Include= D
(D E
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str .
,. /
$str ,
), -
)- .
;. /
bundles 
. 
Add 
( 
new 
StyleBundle '
(' (
$str( 7
)7 8
.8 9
Include9 @
(@ A
$str /
,/ 0
$str *
)* +
)+ ,
;, -
} 	
} 
} ã
ZC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\App_Start\FilterConfig.cs
	namespace 	
OnlineShopping
 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} È
YC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\App_Start\RouteConfig.cs
	namespace 	
OnlineShopping
 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} œ´
aC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Controllers\AccountController.cs
	namespace 	
OnlineShopping
 
. 
Controllers $
{ 
[ !
FrontPageActionFilter 
] 
public 

class 
AccountController "
:# $

Controller% /
{ 
public 
GenericUnitOfWork  
_unitOfWork! ,
=- .
new/ 2
GenericUnitOfWork3 D
(D E
)E F
;F G
[ 	
HttpPost	 
] 
[ 	$
ValidateAntiForgeryToken	 !
]! "
public 
ActionResult 
_Login "
(" #
LoginViewModel# 1
model2 7
,7 8
string9 ?
	returnUrl@ I
)I J
{ 	
if 
( 

ModelState 
. 
IsValid "
)" #
{ 
string 
EncryptedPassword (
=) *
EncryptDecrypt+ 9
.9 :
Encrypt: A
(A B
modelB G
.G H
PasswordH P
,P Q
trueR V
)V W
;W X
var 
user 
= 
_unitOfWork &
.& '!
GetRepositoryInstance' <
<< =
Tbl_Members= H
>H I
(I J
)J K
.K L(
GetFirstOrDefaultByParameterL h
(h i
ii j
=>k m
in o
.o p
EmailIdp w
==x z
model	{ Ä
.
Ä Å
UserEmailId
Å å
&&
ç è
i
ê ë
.
ë í
Password
í ö
==
õ ù
EncryptedPassword
û Ø
&&
∞ ≤
i
≥ ¥
.
¥ µ
IsDelete
µ Ω
==
æ ¿
false
¡ ∆
)
∆ «
;
« »
if 
( 
user 
!= 
null  
&&! #
user$ (
.( )
IsActive) 1
==2 4
true5 9
)9 :
{   
Session!! 
[!! 
$str!! &
]!!& '
=!!( )
user!!* .
.!!. /
MemberId!!/ 7
;!!7 8
Response"" 
."" 
Cookies"" $
[""$ %
$str""% 1
]""1 2
.""2 3
Value""3 8
=""9 :
user""; ?
.""? @
	FirstName""@ I
;""I J
var## 
roles## 
=## 
_unitOfWork##  +
.##+ ,!
GetRepositoryInstance##, A
<##A B
Tbl_MemberRole##B P
>##P Q
(##Q R
)##R S
.##S T(
GetFirstOrDefaultByParameter##T p
(##p q
i##q r
=>##s u
i##v w
.##w x
MemberId	##x Ä
==
##Å É
user
##Ñ à
.
##à â
MemberId
##â ë
)
##ë í
;
##í ì
if$$ 
($$ 
roles$$ 
!=$$  
null$$! %
&&$$& (
roles$$) .
.$$. /
RoleId$$/ 5
!=$$6 8
$num$$9 :
)$$: ;
{%% 
Response&&  
.&&  !
Cookies&&! (
[&&( )
$str&&) 5
]&&5 6
.&&6 7
Value&&7 <
=&&= >
_unitOfWork&&? J
.&&J K!
GetRepositoryInstance&&K `
<&&` a
	Tbl_Roles&&a j
>&&j k
(&&k l
)&&l m
.&&m n)
GetFirstOrDefaultByParameter	&&n ä
(
&&ä ã
i
&&ã å
=>
&&ç è
i
&&ê ë
.
&&ë í
RoleId
&&í ò
==
&&ô õ
roles
&&ú °
.
&&° ¢
RoleId
&&¢ ®
)
&&® ©
.
&&© ™
RoleName
&&™ ≤
;
&&≤ ≥
}'' 
else(( 
{)) 

ModelState** "
.**" #
AddModelError**# 0
(**0 1
$str**1 ;
,**; <
$str**= [
)**[ \
;**\ ]
return++ 
View++ #
(++# $
model++$ )
)++) *
;++* +
},, 
if-- 
(-- 
model-- 
.-- 

RememberMe-- (
)--( )
{.. 
Response//  
.//  !
Cookies//! (
[//( )
$str//) A
]//A B
.//B C
Value//C H
=//I J
model//K P
.//P Q
UserEmailId//Q \
;//\ ]
Response//^ f
.//f g
Cookies//g n
[//n o
$str	//o Ñ
]
//Ñ Ö
.
//Ö Ü
Value
//Ü ã
=
//å ç
model
//é ì
.
//ì î
Password
//î ú
;
//ú ù
}00 
else11 
{22 
Response33  
.33  !
Cookies33! (
[33( )
$str33) A
]33A B
.33B C
Expires33C J
=33K L
DateTime33M U
.33U V
Now33V Y
.33Y Z
AddDays33Z a
(33a b
-33b c
$num33c d
)33d e
;33e f
Response33g o
.33o p
Cookies33p w
[33w x
$str	33x ç
]
33ç é
.
33é è
Expires
33è ñ
=
33ó ò
DateTime
33ô °
.
33° ¢
Now
33¢ •
.
33• ¶
AddDays
33¶ ≠
(
33≠ Æ
-
33Æ Ø
$num
33Ø ∞
)
33∞ ±
;
33± ≤
}44 
ViewBag55 
.55 
redirectUrl55 '
=55( )
(55* +
!55+ ,
string55, 2
.552 3
IsNullOrEmpty553 @
(55@ A
	returnUrl55A J
)55J K
?55L M
HttpUtility55N Y
.55Y Z

HtmlDecode55Z d
(55d e
	returnUrl55e n
)55n o
:55p q
$str55r u
)55u v
;55v w
}66 
else77 
{88 
if99 
(99 
user99 
!=99 
null99  $
&&99% '
user99( ,
.99, -
IsActive99- 5
==996 8
false999 >
)99> ?

ModelState99@ J
.99J K
AddModelError99K X
(99X Y
$str99Y c
,99c d
$str	99e É
)
99É Ñ
;
99Ñ Ö
else:: 

ModelState:: #
.::# $
AddModelError::$ 1
(::1 2
$str::2 <
,::< =
$str::> \
)::\ ]
;::] ^
};; 
}<< 
return== 
PartialView== 
(== 
$str== '
,==' (
model==) .
)==. /
;==/ 0
}>> 	
[CC 	
AllowAnonymousCC	 
]CC 
publicDD 
ActionResultDD 
RegisterDD $
(DD$ %
)DD% &
{EE 	
RegisterViewModelFF 
modelFF #
=FF$ %
newFF& )
RegisterViewModelFF* ;
(FF; <
)FF< =
;FF= >
modelGG 
.GG 
UserTypeGG 
=GG 
$numGG 
;GG 
returnHH 
ViewHH 
(HH 
modelHH 
)HH 
;HH 
}II 	
[KK 	
HttpPostKK	 
]KK 
[LL 	$
ValidateAntiForgeryTokenLL	 !
]LL! "
[MM 	
ValidateInputMM	 
(MM 
falseMM 
)MM 
]MM 
publicNN 
ActionResultNN 
RegisterNN $
(NN$ %
RegisterViewModelNN% 6
modelNN7 <
,NN< =
stringNN> D
	returnUrlNNE N
)NNN O
{OO 	
ifPP 
(PP 

ModelStatePP 
.PP 
IsValidPP "
)PP" #
{QQ 
Tbl_MembersRR 
memRR 
=RR  !
newRR" %
Tbl_MembersRR& 1
(RR1 2
)RR2 3
;RR3 4
memSS 
.SS 
	FirstNameSS 
=SS 
modelSS  %
.SS% &
	FirstNameSS& /
;SS/ 0
memTT 
.TT 
LastNameTT 
=TT 
modelTT $
.TT$ %
LastNameTT% -
;TT- .
memUU 
.UU 
EmailIdUU 
=UU 
modelUU #
.UU# $
UserEmailIdUU$ /
;UU/ 0
memVV 
.VV 
	CreatedOnVV 
=VV 
DateTimeVV  (
.VV( )
NowVV) ,
;VV, -
memWW 
.WW 

ModifiedOnWW 
=WW  
DateTimeWW! )
.WW) *
NowWW* -
;WW- .
memXX 
.XX 
PasswordXX 
=XX 
EncryptDecryptXX -
.XX- .
EncryptXX. 5
(XX5 6
modelXX6 ;
.XX; <
PasswordXX< D
,XXD E
trueXXF J
)XXJ K
;XXK L
memYY 
.YY 
IsActiveYY 
=YY 
trueYY #
;YY# $
memZZ 
.ZZ 
IsDeleteZZ 
=ZZ 
falseZZ $
;ZZ$ %
_unitOfWork[[ 
.[[ !
GetRepositoryInstance[[ 1
<[[1 2
Tbl_Members[[2 =
>[[= >
([[> ?
)[[? @
.[[@ A
Add[[A D
([[D E
mem[[E H
)[[H I
;[[I J
Tbl_MemberRole]] 
mem_Role]] '
=]]( )
new]]* -
Tbl_MemberRole]]. <
(]]< =
)]]= >
;]]> ?
mem_Role^^ 
.^^ 
MemberId^^ !
=^^" #
mem^^$ '
.^^' (
MemberId^^( 0
;^^0 1
mem_Role__ 
.__ 
RoleId__ 
=__  !
$num__" #
;__# $
_unitOfWork`` 
.`` !
GetRepositoryInstance`` 1
<``1 2
Tbl_MemberRole``2 @
>``@ A
(``A B
)``B C
.``C D
Add``D G
(``G H
mem_Role``H P
)``P Q
;``Q R
TempDatabb 
[bb 
$strbb .
]bb. /
=bb0 1
$strbb2 T
;bbT U
Sessioncc 
[cc 
$strcc "
]cc" #
=cc$ %
memcc& )
.cc) *
MemberIdcc* 2
;cc2 3
Responsedd 
.dd 
Cookiesdd  
[dd  !
$strdd! -
]dd- .
.dd. /
Valuedd/ 4
=dd5 6
memdd7 :
.dd: ;
	FirstNamedd; D
;ddD E
Responseee 
.ee 
Cookiesee  
[ee  !
$stree! -
]ee- .
.ee. /
Valueee/ 4
=ee5 6
$stree7 =
;ee= >
returnff 
RedirectToActionff '
(ff' (
$strff( /
,ff/ 0
$strff1 7
)ff7 8
;ff8 9
}gg 
returnhh 
Viewhh 
(hh 
$strhh "
,hh" #
modelhh$ )
)hh) *
;hh* +
}ii 	
publicll 

JsonResultll 
CheckEmailExistll )
(ll) *
stringll* 0
UserEmailIdll1 <
)ll< =
{mm 	
intnn 
LoginMemberIdnn 
=nn 
Convertnn  '
.nn' (
ToInt32nn( /
(nn/ 0
Sessionnn0 7
[nn7 8
$strnn8 B
]nnB C
)nnC D
;nnD E
varoo 

EmailExistoo 
=oo 
_unitOfWorkoo (
.oo( )!
GetRepositoryInstanceoo) >
<oo> ?
Tbl_Membersoo? J
>ooJ K
(ooK L
)ooL M
.ooM N(
GetFirstOrDefaultByParameterooN j
(ooj k
iook l
=>oom o
ioop q
.ooq r
MemberIdoor z
!=oo{ }
LoginMemberId	oo~ ã
&&
ooå é
i
ooè ê
.
ooê ë
EmailId
ooë ò
==
ooô õ
UserEmailId
ooú ß
&&
oo® ™
i
oo´ ¨
.
oo¨ ≠
IsDelete
oo≠ µ
==
oo∂ ∏
false
ooπ æ
)
ooæ ø
;
ooø ¿
returnpp 

EmailExistpp 
==pp  
nullpp! %
?pp& '
Jsonpp( ,
(pp, -
truepp- 1
,pp1 2
JsonRequestBehaviorpp3 F
.ppF G
AllowGetppG O
)ppO P
:ppQ R
JsonppS W
(ppW X
falseppX ]
,pp] ^
JsonRequestBehaviorpp_ r
.ppr s
AllowGetpps {
)pp{ |
;pp| }
}qq 	
publicuu 
ActionResultuu 
LogOutuu "
(uu" #
)uu# $
{vv 	
Sessionww 
[ww 
$strww 
]ww 
=ww  !
nullww" &
;ww& '
ifxx 
(xx 
Requestxx 
.xx 
Cookiesxx 
[xx  
$strxx  ,
]xx, -
!=xx. 0
nullxx1 5
)xx5 6
Responseyy 
.yy 
Cookiesyy  
[yy  !
$stryy! -
]yy- .
.yy. /
Expiresyy/ 6
=yy7 8
DateTimeyy9 A
.yyA B
NowyyB E
.yyE F
AddDaysyyF M
(yyM N
-yyN O
$numyyO P
)yyP Q
;yyQ R
returnzz 
RedirectToActionzz #
(zz# $
$strzz$ +
,zz+ ,
$strzz- 3
)zz3 4
;zz4 5
}{{ 	
[
ÄÄ 	
HttpGet
ÄÄ	 
]
ÄÄ 
public
ÅÅ 
ActionResult
ÅÅ 
ForgotPassword
ÅÅ *
(
ÅÅ* +
)
ÅÅ+ ,
{
ÇÇ 	
return
ÉÉ 
View
ÉÉ 
(
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
[
ÜÜ 	
HttpPost
ÜÜ	 
]
ÜÜ 
[
áá 	&
ValidateAntiForgeryToken
áá	 !
]
áá! "
public
àà 
ActionResult
àà 
ForgotPassword
àà *
(
àà* +%
ForgotPasswordViewModel
àà+ B
fpm
ààC F
)
ààF G
{
ââ 	
if
ää 
(
ää 
_unitOfWork
ää 
.
ää #
GetRepositoryInstance
ää 1
<
ää1 2
Tbl_Members
ää2 =
>
ää= >
(
ää> ?
)
ää? @
.
ää@ A*
GetFirstOrDefaultByParameter
ääA ]
(
ää] ^
i
ää^ _
=>
ää` b
i
ääc d
.
ääd e
EmailId
ääe l
==
ääm o
fpm
ääp s
.
ääs t
EmailId
äät {
&&
ää| ~
iää Ä
.ääÄ Å
IsActiveääÅ â
==äää å
trueääç ë
&&ääí î
iääï ñ
.ääñ ó
IsDeleteääó ü
==ää† ¢
falseää£ ®
)ää® ©
!=ää™ ¨
nullää≠ ±
)ää± ≤
{
ãã 
string
åå 
body
åå 
=
åå 
string
åå $
.
åå$ %
Empty
åå% *
;
åå* +
string
çç 
subject
çç 
=
çç  
string
çç! '
.
çç' (
Empty
çç( -
;
çç- .
using
éé 
(
éé 
var
éé 
sr
éé 
=
éé 
new
éé  #
StreamReader
éé$ 0
(
éé0 1
Server
éé1 7
.
éé7 8
MapPath
éé8 ?
(
éé? @
$str
éé@ S
)
ééS T
+
ééU V
$str
ééW l
)
éél m
)
éém n
{
èè 
body
êê 
=
êê 
sr
êê 
.
êê 
	ReadToEnd
êê '
(
êê' (
)
êê( )
;
êê) *
subject
ëë 
=
ëë 
$str
ëë @
;
ëë@ A
}
íí 
body
ìì 
=
ìì 
body
ìì 
.
ìì 
Replace
ìì #
(
ìì# $
$str
ìì$ 7
,
ìì7 8
System
ìì9 ?
.
ìì? @
Configuration
ìì@ M
.
ììM N"
ConfigurationManager
ììN b
.
ììb c
AppSettings
ììc n
[
ììn o
$strììo É
]ììÉ Ñ
+ììÖ Ü
$strììá ®
+ìì© ™
EncryptDecryptìì´ π
.ììπ ∫
Encryptìì∫ ¡
(ìì¡ ¬
fpmìì¬ ≈
.ìì≈ ∆
EmailIdìì∆ Õ
,ììÕ Œ
trueììœ ”
)ìì” ‘
)ìì‘ ’
;ìì’ ÷
EmailNotification
îî !
.
îî! "
SendMail
îî" *
(
îî* +
fpm
îî+ .
.
îî. /
EmailId
îî/ 6
,
îî6 7
subject
îî8 ?
,
îî? @
body
îîA E
)
îîE F
;
îîF G
ViewBag
ïï 
.
ïï 
SendEmailMessage
ïï (
=
ïï) *
$str
ïï+ w
;
ïïw x
}
ññ 
else
óó 

ModelState
òò 
.
òò 
AddModelError
òò (
(
òò( )
$str
òò) 2
,
òò2 3
$str
òò4 J
)
òòJ K
;
òòK L
return
ôô 
View
ôô 
(
ôô 
fpm
ôô 
)
ôô 
;
ôô 
}
õõ 	
[
üü 	
HttpGet
üü	 
]
üü 
public
†† 
ActionResult
†† 
ResetPassword
†† )
(
††) *
string
††* 0
EmailId
††1 8
)
††8 9
{
°° 	$
ResetPasswordViewModel
¢¢ "
rpm
¢¢# &
=
¢¢' (
new
¢¢) ,$
ResetPasswordViewModel
¢¢- C
(
¢¢C D
)
¢¢D E
;
¢¢E F
if
££ 
(
££ 
EmailId
££ 
!=
££ 
null
££ 
)
££  
{
§§ 
try
•• 
{
¶¶ 

ModelState
ßß 
.
ßß 
Clear
ßß $
(
ßß$ %
)
ßß% &
;
ßß& '
rpm
®® 
.
®® 
EmailId
®® 
=
®®  !
EncryptDecrypt
®®" 0
.
®®0 1
Decrypt
®®1 8
(
®®8 9
EmailId
®®9 @
,
®®@ A
true
®®B F
)
®®F G
;
®®G H
}
©© 
catch
™™ 
(
™™ 
	Exception
™™  
e
™™! "
)
™™" #
{
´´ 

ModelState
¨¨ 
.
¨¨ 
AddModelError
¨¨ ,
(
¨¨, -
$str
¨¨- /
,
¨¨/ 0
$str
¨¨1 H
)
¨¨H I
;
¨¨I J
}
≠≠ 
}
ÆÆ 
else
ØØ 

ModelState
∞∞ 
.
∞∞ 
AddModelError
∞∞ (
(
∞∞( )
$str
∞∞) +
,
∞∞+ ,
$str
∞∞- D
)
∞∞D E
;
∞∞E F
return
±± 
View
±± 
(
±± 
rpm
±± 
)
±± 
;
±± 
}
≤≤ 	
[
¥¥ 	
HttpPost
¥¥	 
]
¥¥ 
[
µµ 	&
ValidateAntiForgeryToken
µµ	 !
]
µµ! "
[
∂∂ 	
ValidateInput
∂∂	 
(
∂∂ 
false
∂∂ 
)
∂∂ 
]
∂∂ 
public
∑∑ 
ActionResult
∑∑ 
ResetPassword
∑∑ )
(
∑∑) *$
ResetPasswordViewModel
∑∑* @
rpm
∑∑A D
)
∑∑D E
{
∏∏ 	
var
ππ 
ExistingDetails
ππ 
=
ππ  !
_unitOfWork
ππ" -
.
ππ- .#
GetRepositoryInstance
ππ. C
<
ππC D
Tbl_Members
ππD O
>
ππO P
(
ππP Q
)
ππQ R
.
ππR S*
GetFirstOrDefaultByParameter
ππS o
(
ππo p
i
ππp q
=>
ππr t
i
ππu v
.
ππv w
EmailId
ππw ~
==ππ Å
rpmππÇ Ö
.ππÖ Ü
EmailIdππÜ ç
&&ππé ê
iππë í
.ππí ì
IsActiveππì õ
==ππú û
trueππü £
&&ππ§ ¶
iππß ®
.ππ® ©
IsDeleteππ© ±
==ππ≤ ¥
falseππµ ∫
)ππ∫ ª
;ππª º
if
∫∫ 
(
∫∫ 
ExistingDetails
∫∫ 
!=
∫∫  "
null
∫∫# '
)
∫∫' (
{
ªª 
ExistingDetails
ºº 
.
ºº  
Password
ºº  (
=
ºº) *
EncryptDecrypt
ºº+ 9
.
ºº9 :
Encrypt
ºº: A
(
ººA B
rpm
ººB E
.
ººE F
NewPassword
ººF Q
,
ººQ R
true
ººS W
)
ººW X
;
ººX Y
ExistingDetails
ΩΩ 
.
ΩΩ  

ModifiedOn
ΩΩ  *
=
ΩΩ+ ,
DateTime
ΩΩ- 5
.
ΩΩ5 6
UtcNow
ΩΩ6 <
;
ΩΩ< =
_unitOfWork
ææ 
.
ææ #
GetRepositoryInstance
ææ 1
<
ææ1 2
Tbl_Members
ææ2 =
>
ææ= >
(
ææ> ?
)
ææ? @
.
ææ@ A
Update
ææA G
(
ææG H
ExistingDetails
ææH W
)
ææW X
;
ææX Y
_unitOfWork
øø 
.
øø 
SaveChanges
øø '
(
øø' (
)
øø( )
;
øø) *
ViewBag
¿¿ 
.
¿¿ 
PasswordChangeMsg
¿¿ )
=
¿¿* +
$str
¿¿, K
;
¿¿K L
}
¡¡ 
else
¬¬ 

ModelState
√√ 
.
√√ 
AddModelError
√√ (
(
√√( )
$str
√√) +
,
√√+ ,
$str
√√- D
)
√√D E
;
√√E F
return
ƒƒ 
View
ƒƒ 
(
ƒƒ 
rpm
ƒƒ 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 	
public
…… 
ActionResult
…… #
UnauthorizeViewToPage
…… 1
(
……1 2
)
……2 3
{
   	
return
ÀÀ 
Redirect
ÀÀ 
(
ÀÀ 
$str
ÀÀ 
)
ÀÀ  
;
ÀÀ  !
}
ÃÃ 	
}
ŒŒ 
}œœ ˇ∂
_C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Controllers\AdminController.cs
	namespace 	
OnlineShopping
 
. 
Controllers $
{ 
[ 
AuthorizeUser 
( 
Roles 
= 
$str "
)" #
]# $
public 

class 
AdminController  
:! "

Controller# -
{ 
private 
GenericUnitOfWork !
_unitOfWork" -
=. /
new0 3
GenericUnitOfWork4 E
(E F
)F G
;G H
UploadContent 
uc 
= 
new 
UploadContent ,
(, -
)- .
;. /
[   	
AllowAnonymous  	 
]   
public!! 
ActionResult!! 
Index!! !
(!!! "
string!!" (
	returnUrl!!) 2
)!!2 3
{"" 	
if## 
(##  
CheckAlreadyLoggedIn## $
(##$ %
)##% &
)##& '
return$$ 
Redirect$$ 
($$  
	returnUrl$$  )
!=$$* ,
null$$- 1
?$$2 3
	returnUrl$$4 =
:$$> ?
$str$$@ R
)$$R S
;$$S T
else%% 
{&& 
LoginViewModel'' 

loginModel'' )
=''* +
new'', /
LoginViewModel''0 >
(''> ?
)''? @
;''@ A

loginModel(( 
.(( 
UserEmailId(( &
=((' (
Request(() 0
.((0 1
Cookies((1 8
[((8 9
$str((9 Q
]((Q R
!=((S U
null((V Z
?(([ \
Request((] d
.((d e
Cookies((e l
[((l m
$str	((m Ö
]
((Ö Ü
.
((Ü á
Value
((á å
:
((ç é
$str
((è ë
;
((ë í

loginModel)) 
.)) 
Password)) #
=))$ %
Request))& -
.))- .
Cookies)). 5
[))5 6
$str))6 K
]))K L
!=))M O
null))P T
?))U V
Request))W ^
.))^ _
Cookies))_ f
[))f g
$str))g |
]))| }
.))} ~
Value	))~ É
:
))Ñ Ö
$str
))Ü à
;
))à â
ViewBag** 
.** 
	ReturnUrl** !
=**" #
	returnUrl**$ -
;**- .
return++ 
View++ 
(++ 

loginModel++ &
)++& '
;++' (
},, 
}-- 	
private33 
bool33  
CheckAlreadyLoggedIn33 )
(33) *
)33* +
{44 	
bool55 
alreadyLoggedIn55  
=55! "
false55# (
;55( )
if66 
(66 
Session66 
[66 
$str66 "
]66" #
!=66$ &
null66' +
&&66, .
Request66/ 6
.666 7
Cookies667 >
[66> ?
$str66? K
]66K L
!=66M O
null66P T
&&66U W
Request66X _
.66_ `
Cookies66` g
[66g h
$str66h t
]66t u
.66u v
Value66v {
==66| ~
$str	66 Ü
)
66Ü á
{77 
int88 
memberId88 
=88 
Convert88 &
.88& '
ToInt3288' .
(88. /
Session88/ 6
[886 7
$str887 A
]88A B
)88B C
;88C D
var99 
user99 
=99 
_unitOfWork99 &
.99& '!
GetRepositoryInstance99' <
<99< =
Tbl_Members99= H
>99H I
(99I J
)99J K
.99K L(
GetFirstOrDefaultByParameter99L h
(99h i
i99i j
=>99k m
i99n o
.99o p
MemberId99p x
==99y {
memberId	99| Ñ
&&
99Ö á
i
99à â
.
99â ä
IsActive
99ä í
==
99ì ï
true
99ñ ö
&&
99õ ù
i
99û ü
.
99ü †
IsDelete
99† ®
==
99© ´
false
99¨ ±
)
99± ≤
;
99≤ ≥
if:: 
(:: 
user:: 
!=:: 
null::  
)::  !
{;; 
Response<< 
.<< 
Cookies<< $
[<<$ %
$str<<% 1
]<<1 2
.<<2 3
Value<<3 8
=<<9 :
user<<; ?
.<<? @
	FirstName<<@ I
;<<I J
var== 
roles== 
=== 
_unitOfWork==  +
.==+ ,!
GetRepositoryInstance==, A
<==A B
Tbl_MemberRole==B P
>==P Q
(==Q R
)==R S
.==S T(
GetFirstOrDefaultByParameter==T p
(==p q
i==q r
=>==s u
i==v w
.==w x
MemberId	==x Ä
==
==Å É
user
==Ñ à
.
==à â
MemberId
==â ë
&&
==í î
i
==ï ñ
.
==ñ ó
RoleId
==ó ù
==
==û †
$num
==° ¢
)
==¢ £
;
==£ §
if>> 
(>> 
roles>> 
!=>>  
null>>! %
)>>% &
alreadyLoggedIn?? '
=??( )
true??* .
;??. /
}@@ 
}AA 
returnBB 
alreadyLoggedInBB "
;BB" #
}CC 	
[KK 	
AllowAnonymousKK	 
]KK 
[LL 	
HttpPostLL	 
]LL 
[MM 	$
ValidateAntiForgeryTokenMM	 !
]MM! "
[NN 	
ValidateInputNN	 
(NN 
falseNN 
)NN 
]NN 
publicOO 
ActionResultOO 
IndexOO !
(OO! "
LoginViewModelOO" 0
modelOO1 6
,OO6 7
stringOO8 >
	returnUrlOO? H
)OOH I
{PP 	
ifQQ 
(QQ 

ModelStateQQ 
.QQ 
IsValidQQ "
)QQ" #
{RR 
stringSS 
EncryptedPasswordSS (
=SS) *
EncryptDecryptSS+ 9
.SS9 :
EncryptSS: A
(SSA B
modelSSB G
.SSG H
PasswordSSH P
,SSP Q
trueSSR V
)SSV W
;SSW X
varTT 
userTT 
=TT 
_unitOfWorkTT &
.TT& '!
GetRepositoryInstanceTT' <
<TT< =
Tbl_MembersTT= H
>TTH I
(TTI J
)TTJ K
.TTK L(
GetFirstOrDefaultByParameterTTL h
(TTh i
iTTi j
=>TTk m
iTTn o
.TTo p
EmailIdTTp w
==TTx z
model	TT{ Ä
.
TTÄ Å
UserEmailId
TTÅ å
&&
TTç è
i
TTê ë
.
TTë í
Password
TTí ö
==
TTõ ù
EncryptedPassword
TTû Ø
&&
TT∞ ≤
i
TT≥ ¥
.
TT¥ µ
IsActive
TTµ Ω
==
TTæ ¿
true
TT¡ ≈
&&
TT∆ »
i
TT…  
.
TT  À
IsDelete
TTÀ ”
==
TT‘ ÷
false
TT◊ ‹
)
TT‹ ›
;
TT› ﬁ
ifUU 
(UU 
userUU 
!=UU 
nullUU  
)UU  !
{VV 
SessionWW 
[WW 
$strWW &
]WW& '
=WW( )
userWW* .
.WW. /
MemberIdWW/ 7
;WW7 8
ResponseXX 
.XX 
CookiesXX $
[XX$ %
$strXX% 1
]XX1 2
.XX2 3
ValueXX3 8
=XX9 :
userXX; ?
.XX? @
	FirstNameXX@ I
;XXI J
varYY 
rolesYY 
=YY 
_unitOfWorkYY  +
.YY+ ,!
GetRepositoryInstanceYY, A
<YYA B
Tbl_MemberRoleYYB P
>YYP Q
(YYQ R
)YYR S
.YYS T(
GetFirstOrDefaultByParameterYYT p
(YYp q
iYYq r
=>YYs u
iYYv w
.YYw x
MemberId	YYx Ä
==
YYÅ É
user
YYÑ à
.
YYà â
MemberId
YYâ ë
&&
YYí î
i
YYï ñ
.
YYñ ó
RoleId
YYó ù
==
YYû †
model
YY° ¶
.
YY¶ ß
UserType
YYß Ø
)
YYØ ∞
;
YY∞ ±
ifZZ 
(ZZ 
rolesZZ 
!=ZZ  
nullZZ! %
)ZZ% &
{[[ 
Response\\  
.\\  !
Cookies\\! (
[\\( )
$str\\) 5
]\\5 6
.\\6 7
Value\\7 <
=\\= >
_unitOfWork\\? J
.\\J K!
GetRepositoryInstance\\K `
<\\` a
	Tbl_Roles\\a j
>\\j k
(\\k l
)\\l m
.\\m n)
GetFirstOrDefaultByParameter	\\n ä
(
\\ä ã
i
\\ã å
=>
\\ç è
i
\\ê ë
.
\\ë í
RoleId
\\í ò
==
\\ô õ
model
\\ú °
.
\\° ¢
UserType
\\¢ ™
)
\\™ ´
.
\\´ ¨
RoleName
\\¨ ¥
;
\\¥ µ
}]] 
else^^ 
{__ 

ModelState`` "
.``" #
AddModelError``# 0
(``0 1
$str``1 ;
,``; <
$str``= P
)``P Q
;``Q R
returnaa 
Viewaa #
(aa# $
modelaa$ )
)aa) *
;aa* +
}bb 
ifcc 
(cc 
Requestcc 
[cc  
$strcc  -
]cc- .
==cc/ 1
$strcc2 6
)cc6 7
{dd 
Responseee  
.ee  !
Cookiesee! (
[ee( )
$stree) A
]eeA B
.eeB C
ValueeeC H
=eeI J
usereeK O
.eeO P
EmailIdeeP W
;eeW X
Responseff  
.ff  !
Cookiesff! (
[ff( )
$strff) >
]ff> ?
.ff? @
Valueff@ E
=ffF G
userffH L
.ffL M
PasswordffM U
;ffU V
}gg 
elsehh 
{ii 
Responsejj  
.jj  !
Cookiesjj! (
[jj( )
$strjj) A
]jjA B
.jjB C
ExpiresjjC J
=jjK L
DateTimejjM U
.jjU V
NowjjV Y
.jjY Z
AddDaysjjZ a
(jja b
-jjb c
$numjjc d
)jjd e
;jje f
Responsekk  
.kk  !
Cookieskk! (
[kk( )
$strkk) >
]kk> ?
.kk? @
Expireskk@ G
=kkH I
DateTimekkJ R
.kkR S
NowkkS V
.kkV W
AddDayskkW ^
(kk^ _
-kk_ `
$numkk` a
)kka b
;kkb c
}ll 
returnmm 
Redirectmm #
(mm# $
	returnUrlmm$ -
!=mm. 0
nullmm1 5
?mm6 7
	returnUrlmm8 A
:mmB C
$strmmD V
)mmV W
;mmW X
}nn 
elseoo 
{pp 

ModelStateqq 
.qq 
AddModelErrorqq ,
(qq, -
$strqq- 7
,qq7 8
$strqq9 \
)qq\ ]
;qq] ^
}rr 
}ss 
returntt 
Viewtt 
(tt 
modeltt 
)tt 
;tt 
}uu 	
[}} 	
HttpGet}}	 
]}} 
public~~ 
ActionResult~~ 
ChangePassword~~ *
(~~* +
)~~+ ,
{ 	
return
ÄÄ 
View
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
[
àà 	
HttpPost
àà	 
]
àà 
[
ââ 	&
ValidateAntiForgeryToken
ââ	 !
]
ââ! "
[
ää 	
ValidateInput
ää	 
(
ää 
false
ää 
)
ää 
]
ää 
public
ãã 
ActionResult
ãã 
ChangePassword
ãã *
(
ãã* +%
ChangePasswordViewModel
ãã+ B
cpm
ããC F
)
ããF G
{
åå 	
int
çç 
LoginMemberId
çç 
=
çç 
Convert
çç  '
.
çç' (
ToInt32
çç( /
(
çç/ 0
Session
çç0 7
[
çç7 8
$str
çç8 B
]
ççB C
)
ççC D
;
ççD E
var
éé 
ExistingDetails
éé 
=
éé  !
_unitOfWork
éé" -
.
éé- .#
GetRepositoryInstance
éé. C
<
ééC D
Tbl_Members
ééD O
>
ééO P
(
ééP Q
)
ééQ R
.
ééR S*
GetFirstOrDefaultByParameter
ééS o
(
ééo p
i
éép q
=>
éér t
i
ééu v
.
éév w
MemberId
ééw 
==ééÄ Ç
LoginMemberIdééÉ ê
&&ééë ì
iééî ï
.ééï ñ
IsActiveééñ û
==ééü °
trueéé¢ ¶
&&ééß ©
iéé™ ´
.éé´ ¨
IsDeleteéé¨ ¥
==ééµ ∑
falseéé∏ Ω
)ééΩ æ
;ééæ ø
if
èè 
(
èè 
EncryptDecrypt
èè 
.
èè 
Encrypt
èè &
(
èè& '
cpm
èè' *
.
èè* +
OldPassword
èè+ 6
,
èè6 7
true
èè8 <
)
èè< =
==
èè> @
ExistingDetails
èèA P
.
èèP Q
Password
èèQ Y
)
èèY Z
{
êê 
ExistingDetails
ëë 
.
ëë  
Password
ëë  (
=
ëë) *
EncryptDecrypt
ëë+ 9
.
ëë9 :
Encrypt
ëë: A
(
ëëA B
cpm
ëëB E
.
ëëE F
NewPassword
ëëF Q
,
ëëQ R
true
ëëS W
)
ëëW X
;
ëëX Y
_unitOfWork
íí 
.
íí 
SaveChanges
íí '
(
íí' (
)
íí( )
;
íí) *
ViewBag
ìì 
.
ìì 
PasswordChangeMsg
ìì )
=
ìì* +
$str
ìì, K
;
ììK L
}
îî 
else
ïï 

ModelState
ññ 
.
ññ 
AddModelError
ññ (
(
ññ( )
$str
ññ) 6
,
ññ6 7
$str
ññ8 S
)
ññS T
;
ññT U
return
óó 
View
óó 
(
óó 
)
óó 
;
óó 
}
òò 	
public
†† 
ActionResult
†† 
	Dashboard
†† %
(
††% &
)
††& '
{
°° 	
return
¢¢ 
View
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
}
££ 	
public
´´ 
ActionResult
´´ 

Categories
´´ &
(
´´& '
)
´´' (
{
¨¨ 	
List
≠≠ 
<
≠≠ 
OnlineShopping
≠≠ 
.
≠≠  
DAL
≠≠  #
.
≠≠# $
Tbl_Category
≠≠$ 0
>
≠≠0 1
AllCategories
≠≠2 ?
=
≠≠@ A
_unitOfWork
≠≠B M
.
≠≠M N#
GetRepositoryInstance
≠≠N c
<
≠≠c d
OnlineShopping
≠≠d r
.
≠≠r s
DAL
≠≠s v
.
≠≠v w
Tbl_Category≠≠w É
>≠≠É Ñ
(≠≠Ñ Ö
)≠≠Ö Ü
.≠≠Ü á'
GetAllRecordsIQueryable≠≠á û
(≠≠û ü
)≠≠ü †
.≠≠† °
Where≠≠° ¶
(≠≠¶ ß
i≠≠ß ®
=>≠≠© ´
i≠≠¨ ≠
.≠≠≠ Æ
IsDelete≠≠Æ ∂
==≠≠∑ π
false≠≠∫ ø
)≠≠ø ¿
.≠≠¿ ¡
ToList≠≠¡ «
(≠≠« »
)≠≠» …
;≠≠…  
return
ÆÆ 
View
ÆÆ 
(
ÆÆ 
AllCategories
ÆÆ %
)
ÆÆ% &
;
ÆÆ& '
}
ØØ 	
public
µµ 
ActionResult
µµ 
AddCategory
µµ '
(
µµ' (
)
µµ( )
{
∂∂ 	
return
∑∑ 
UpdateCategory
∑∑ !
(
∑∑! "
$num
∑∑" #
)
∑∑# $
;
∑∑$ %
}
∏∏ 	
public
øø 
ActionResult
øø 
UpdateCategory
øø *
(
øø* +
int
øø+ .

categoryId
øø/ 9
)
øø9 :
{
¿¿ 	
CategoryDetail
¡¡ 
cd
¡¡ 
;
¡¡ 
if
¬¬ 
(
¬¬ 

categoryId
¬¬ 
!=
¬¬ 
$num
¬¬ 
)
¬¬  
cd
√√ 
=
√√ 
cd
ƒƒ 
=
ƒƒ 
JsonConvert
ƒƒ  
.
ƒƒ  !
DeserializeObject
ƒƒ! 2
<
ƒƒ2 3
CategoryDetail
ƒƒ3 A
>
ƒƒA B
(
ƒƒB C
JsonConvert
ƒƒC N
.
ƒƒN O
SerializeObject
ƒƒO ^
(
ƒƒ^ _
_unitOfWork
ƒƒ_ j
.
ƒƒj k$
GetRepositoryInstanceƒƒk Ä
<ƒƒÄ Å
OnlineShoppingƒƒÅ è
.ƒƒè ê
DALƒƒê ì
.ƒƒì î
Tbl_Categoryƒƒî †
>ƒƒ† °
(ƒƒ° ¢
)ƒƒ¢ £
.ƒƒ£ §!
GetFirstOrDefaultƒƒ§ µ
(ƒƒµ ∂

categoryIdƒƒ∂ ¿
)ƒƒ¿ ¡
)ƒƒ¡ ¬
)ƒƒ¬ √
;ƒƒ√ ƒ
else
≈≈ 
cd
∆∆ 
=
∆∆ 
new
∆∆ 
CategoryDetail
∆∆ '
(
∆∆' (
)
∆∆( )
;
∆∆) *
return
«« 
View
«« 
(
«« 
$str
«« (
,
««( )
cd
««* ,
)
««, -
;
««- .
}
»» 	
[
œœ 	
HttpPost
œœ	 
]
œœ 
[
–– 	&
ValidateAntiForgeryToken
––	 !
]
––! "
public
—— 
ActionResult
—— 
UpdateCategory
—— *
(
——* +
CategoryDetail
——+ 9
cd
——: <
)
——< =
{
““ 	
if
”” 
(
”” 

ModelState
”” 
.
”” 
IsValid
”” "
)
””" #
{
‘‘ 
Tbl_Category
’’ 
cat
’’  
=
’’! "
_unitOfWork
’’# .
.
’’. /#
GetRepositoryInstance
’’/ D
<
’’D E
Tbl_Category
’’E Q
>
’’Q R
(
’’R S
)
’’S T
.
’’T U
GetFirstOrDefault
’’U f
(
’’f g
cd
’’g i
.
’’i j

CategoryId
’’j t
)
’’t u
;
’’u v
cat
÷÷ 
=
÷÷ 
cat
÷÷ 
!=
÷÷ 
null
÷÷ !
?
÷÷" #
cat
÷÷$ '
:
÷÷( )
new
÷÷* -
Tbl_Category
÷÷. :
(
÷÷: ;
)
÷÷; <
;
÷÷< =
cat
◊◊ 
.
◊◊ 
CategoryName
◊◊  
=
◊◊! "
cd
◊◊# %
.
◊◊% &
CategoryName
◊◊& 2
;
◊◊2 3
if
ÿÿ 
(
ÿÿ 
cd
ÿÿ 
.
ÿÿ 

CategoryId
ÿÿ !
!=
ÿÿ" $
$num
ÿÿ% &
)
ÿÿ& '
{
ŸŸ 
_unitOfWork
⁄⁄ 
.
⁄⁄  #
GetRepositoryInstance
⁄⁄  5
<
⁄⁄5 6
Tbl_Category
⁄⁄6 B
>
⁄⁄B C
(
⁄⁄C D
)
⁄⁄D E
.
⁄⁄E F
Update
⁄⁄F L
(
⁄⁄L M
cat
⁄⁄M P
)
⁄⁄P Q
;
⁄⁄Q R
_unitOfWork
€€ 
.
€€  
SaveChanges
€€  +
(
€€+ ,
)
€€, -
;
€€- .
}
‹‹ 
else
›› 
{
ﬁﬁ 
cat
ﬂﬂ 
.
ﬂﬂ 
IsActive
ﬂﬂ  
=
ﬂﬂ! "
true
ﬂﬂ# '
;
ﬂﬂ' (
cat
‡‡ 
.
‡‡ 
IsDelete
‡‡  
=
‡‡! "
false
‡‡# (
;
‡‡( )
_unitOfWork
·· 
.
··  #
GetRepositoryInstance
··  5
<
··5 6
Tbl_Category
··6 B
>
··B C
(
··C D
)
··D E
.
··E F
Add
··F I
(
··I J
cat
··J M
)
··M N
;
··N O
}
‚‚ 
return
‰‰ 
RedirectToAction
‰‰ '
(
‰‰' (
$str
‰‰( 4
)
‰‰4 5
;
‰‰5 6
}
ÂÂ 
else
ÊÊ 
return
ÁÁ 
View
ÁÁ 
(
ÁÁ 
$str
ÁÁ ,
,
ÁÁ, -
cd
ÁÁ. 0
)
ÁÁ0 1
;
ÁÁ1 2
}
ËË 	
public
ÔÔ 
int
ÔÔ 
DeleteCategory
ÔÔ !
(
ÔÔ! "
int
ÔÔ" %
itemId
ÔÔ& ,
)
ÔÔ, -
{
 	
_unitOfWork
ÒÒ 
.
ÒÒ #
GetRepositoryInstance
ÒÒ -
<
ÒÒ- .
OnlineShopping
ÒÒ. <
.
ÒÒ< =
DAL
ÒÒ= @
.
ÒÒ@ A
Tbl_Category
ÒÒA M
>
ÒÒM N
(
ÒÒN O
)
ÒÒO P
.
ÒÒP Q0
"InactiveAndDeleteMarkByWhereClause
ÒÒQ s
(
ÒÒs t
i
ÒÒt u
=>
ÒÒv x
i
ÒÒy z
.
ÒÒz {

CategoryIdÒÒ{ Ö
==ÒÒÜ à
itemIdÒÒâ è
,ÒÒè ê
(ÒÒë í
uÒÒí ì
=>ÒÒî ñ
{ÒÒó ò
uÒÒô ö
.ÒÒö õ
IsActiveÒÒõ £
=ÒÒ§ •
falseÒÒ¶ ´
;ÒÒ´ ¨
uÒÒ≠ Æ
.ÒÒÆ Ø
IsDeleteÒÒØ ∑
=ÒÒ∏ π
trueÒÒ∫ æ
;ÒÒæ ø
}ÒÒ¿ ¡
)ÒÒ¡ ¬
)ÒÒ¬ √
;ÒÒ√ ƒ
return
ÚÚ 
$num
ÚÚ 
;
ÚÚ 
}
ÛÛ 	
public
˙˙ 

JsonResult
˙˙  
CheckCategoryExist
˙˙ ,
(
˙˙, -
string
˙˙- 3
CategoryName
˙˙4 @
)
˙˙@ A
{
˚˚ 	
int
¸¸ 

CategoryId
¸¸ 
=
¸¸ 
$num
¸¸ 
;
¸¸ 
if
˝˝ 
(
˝˝ 
HttpUtility
˝˝ 
.
˝˝ 
ParseQueryString
˝˝ ,
(
˝˝, -
Request
˝˝- 4
.
˝˝4 5
UrlReferrer
˝˝5 @
.
˝˝@ A
Query
˝˝A F
)
˝˝F G
[
˝˝G H
$str
˝˝H T
]
˝˝T U
!=
˝˝V X
null
˝˝Y ]
)
˝˝] ^

CategoryId
˛˛ 
=
˛˛ 
Convert
˛˛ $
.
˛˛$ %
ToInt32
˛˛% ,
(
˛˛, -
HttpUtility
˛˛- 8
.
˛˛8 9
ParseQueryString
˛˛9 I
(
˛˛I J
Request
˛˛J Q
.
˛˛Q R
UrlReferrer
˛˛R ]
.
˛˛] ^
Query
˛˛^ c
)
˛˛c d
[
˛˛d e
$str
˛˛e q
]
˛˛q r
)
˛˛r s
;
˛˛s t
var
ˇˇ 
CategoryExist
ˇˇ 
=
ˇˇ 
_unitOfWork
ˇˇ  +
.
ˇˇ+ ,#
GetRepositoryInstance
ˇˇ, A
<
ˇˇA B
OnlineShopping
ˇˇB P
.
ˇˇP Q
DAL
ˇˇQ T
.
ˇˇT U
Tbl_Category
ˇˇU a
>
ˇˇa b
(
ˇˇb c
)
ˇˇc d
.
ˇˇd e%
GetAllRecordsIQueryable
ˇˇe |
(
ˇˇ| }
)
ˇˇ} ~
.
ˇˇ~ 
Whereˇˇ Ñ
(ˇˇÑ Ö
iˇˇÖ Ü
=>ˇˇá â
iˇˇä ã
.ˇˇã å
CategoryNameˇˇå ò
==ˇˇô õ
CategoryNameˇˇú ®
&&ˇˇ© ´
iˇˇ¨ ≠
.ˇˇ≠ Æ

CategoryIdˇˇÆ ∏
!=ˇˇπ ª

CategoryIdˇˇº ∆
&&ˇˇ« …
iˇˇ  À
.ˇˇÀ Ã
IsActiveˇˇÃ ‘
==ˇˇ’ ◊
trueˇˇÿ ‹
&&ˇˇ› ﬂ
iˇˇ‡ ·
.ˇˇ· ‚
IsDeleteˇˇ‚ Í
==ˇˇÎ Ì
falseˇˇÓ Û
)ˇˇÛ Ù
.ˇˇÙ ı
Countˇˇı ˙
(ˇˇ˙ ˚
)ˇˇ˚ ¸
;ˇˇ¸ ˝
return
ÄÄ 
CategoryExist
ÄÄ  
==
ÄÄ! #
$num
ÄÄ$ %
?
ÄÄ& '
Json
ÄÄ( ,
(
ÄÄ, -
true
ÄÄ- 1
,
ÄÄ1 2!
JsonRequestBehavior
ÄÄ3 F
.
ÄÄF G
AllowGet
ÄÄG O
)
ÄÄO P
:
ÄÄQ R
Json
ÄÄS W
(
ÄÄW X
false
ÄÄX ]
,
ÄÄ] ^!
JsonRequestBehavior
ÄÄ_ r
.
ÄÄr s
AllowGet
ÄÄs {
)
ÄÄ{ |
;
ÄÄ| }
}
ÅÅ 	
public
ää 
ActionResult
ää 
Products
ää $
(
ää$ %
)
ää% &
{
ãã 	
List
åå 
<
åå 
OnlineShopping
åå 
.
åå  
DAL
åå  #
.
åå# $
Tbl_Product
åå$ /
>
åå/ 0
products
åå1 9
=
åå: ;
_unitOfWork
åå< G
.
ååG H#
GetRepositoryInstance
ååH ]
<
åå] ^
OnlineShopping
åå^ l
.
åål m
DAL
ååm p
.
ååp q
Tbl_Product
ååq |
>
åå| }
(
åå} ~
)
åå~ 
.åå Ä'
GetAllRecordsIQueryableååÄ ó
(ååó ò
)ååò ô
.ååô ö
Whereååö ü
(ååü †
iåå† °
=>åå¢ §
iåå• ¶
.åå¶ ß
IsDeleteååß Ø
==åå∞ ≤
falseåå≥ ∏
)åå∏ π
.ååπ ∫
ToListåå∫ ¿
(åå¿ ¡
)åå¡ ¬
;åå¬ √
return
çç 
View
çç 
(
çç 
products
çç  
)
çç  !
;
çç! "
}
éé 	
public
ññ 
ActionResult
ññ 

AddProduct
ññ &
(
ññ& '
)
ññ' (
{
óó 	
return
òò 
UpdateProduct
òò  
(
òò  !
$num
òò! "
)
òò" #
;
òò# $
}
ôô 	
public
†† 
ActionResult
†† 
UpdateProduct
†† )
(
††) *
int
††* -
	productId
††. 7
)
††7 8
{
°° 	
ProductDetail
¢¢ 
pd
¢¢ 
=
¢¢ 
_unitOfWork
¢¢ *
.
¢¢* +#
GetRepositoryInstance
¢¢+ @
<
¢¢@ A
Tbl_Product
¢¢A L
>
¢¢L M
(
¢¢M N
)
¢¢N O
.
¢¢O P 
GetListByParameter
¢¢P b
(
¢¢b c
i
¢¢c d
=>
¢¢e g
i
¢¢h i
.
¢¢i j
	ProductId
¢¢j s
==
¢¢t v
	productId¢¢w Ä
)¢¢Ä Å
.¢¢Å Ç
Select¢¢Ç à
(¢¢à â
j¢¢â ä
=>¢¢ã ç
new¢¢é ë
ProductDetail¢¢í ü
{¢¢† °

CategoryId¢¢¢ ¨
=¢¢≠ Æ
j¢¢Ø ∞
.¢¢∞ ±

CategoryId¢¢± ª
,¢¢ª º
Description¢¢Ω »
=¢¢…  
j¢¢À Ã
.¢¢Ã Õ
Description¢¢Õ ÿ
,¢¢ÿ Ÿ
IsActive¢¢⁄ ‚
=¢¢„ ‰
j¢¢Â Ê
.¢¢Ê Á
IsActive¢¢Á Ô
??¢¢ Ú
default¢¢Û ˙
(¢¢˙ ˚
bool¢¢˚ ˇ
)¢¢ˇ Ä
,¢¢Ä Å
Price¢¢Ç á
=¢¢à â
j¢¢ä ã
.¢¢ã å
Price¢¢å ë
??¢¢í î
default¢¢ï ú
(¢¢ú ù
decimal¢¢ù §
)¢¢§ •
,¢¢• ¶
	ProductId¢¢ß ∞
=¢¢± ≤
j¢¢≥ ¥
.¢¢¥ µ
	ProductId¢¢µ æ
,¢¢æ ø
ProductImage¢¢¿ Ã
=¢¢Õ Œ
j¢¢œ –
.¢¢– —
ProductImage¢¢— ›
,¢¢› ﬁ
ProductName¢¢ﬂ Í
=¢¢Î Ï
j¢¢Ì Ó
.¢¢Ó Ô
ProductName¢¢Ô ˙
,¢¢˙ ˚

IsFeatured¢¢¸ Ü
=¢¢á à
j¢¢â ä
.¢¢ä ã

IsFeatured¢¢ã ï
??¢¢ñ ò
default¢¢ô †
(¢¢† °
bool¢¢° •
)¢¢• ¶
}¢¢ß ®
)¢¢® ©
.¢¢© ™
FirstOrDefault¢¢™ ∏
(¢¢∏ π
)¢¢π ∫
;¢¢∫ ª
pd
££ 
=
££ 
pd
££ 
!=
££ 
null
££ 
?
££ 
pd
££  
:
££! "
new
££# &
ProductDetail
££' 4
(
££4 5
)
££5 6
;
££6 7
pd
§§ 
.
§§ 

Categories
§§ 
=
§§ 
new
§§ 

SelectList
§§  *
(
§§* +
_unitOfWork
§§+ 6
.
§§6 7#
GetRepositoryInstance
§§7 L
<
§§L M
Tbl_Category
§§M Y
>
§§Y Z
(
§§Z [
)
§§[ \
.
§§\ ]%
GetAllRecordsIQueryable
§§] t
(
§§t u
)
§§u v
,
§§v w
$str§§x Ñ
,§§Ñ Ö
$str§§Ü î
)§§î ï
;§§ï ñ
return
•• 
View
•• 
(
•• 
$str
•• '
,
••' (
pd
••) +
)
••+ ,
;
••, -
}
¶¶ 	
[
ÆÆ 	
HttpPost
ÆÆ	 
]
ÆÆ 
[
ØØ 	
ValidateInput
ØØ	 
(
ØØ 
false
ØØ 
)
ØØ 
]
ØØ 
[
∞∞ 	&
ValidateAntiForgeryToken
∞∞	 !
]
∞∞! "
public
±± 
ActionResult
±± 
UpdateProduct
±± )
(
±±) *
ProductDetail
±±* 7
pd
±±8 :
,
±±: ; 
HttpPostedFileBase
±±< N
_ProductImage
±±O \
)
±±\ ]
{
≤≤ 	
if
≥≥ 
(
≥≥ 

ModelState
≥≥ 
.
≥≥ 
IsValid
≥≥ "
)
≥≥" #
{
¥¥ 
Tbl_Product
µµ 
prod
µµ  
=
µµ! "
_unitOfWork
µµ# .
.
µµ. /#
GetRepositoryInstance
µµ/ D
<
µµD E
Tbl_Product
µµE P
>
µµP Q
(
µµQ R
)
µµR S
.
µµS T
GetFirstOrDefault
µµT e
(
µµe f
pd
µµf h
.
µµh i
	ProductId
µµi r
)
µµr s
;
µµs t
prod
∂∂ 
=
∂∂ 
prod
∂∂ 
!=
∂∂ 
null
∂∂ #
?
∂∂$ %
prod
∂∂& *
:
∂∂+ ,
new
∂∂- 0
Tbl_Product
∂∂1 <
(
∂∂< =
)
∂∂= >
;
∂∂> ?
prod
∑∑ 
.
∑∑ 

CategoryId
∑∑ 
=
∑∑  !
pd
∑∑" $
.
∑∑$ %

CategoryId
∑∑% /
;
∑∑/ 0
prod
∏∏ 
.
∏∏ 
Description
∏∏  
=
∏∏! "
pd
∏∏# %
.
∏∏% &
Description
∏∏& 1
;
∏∏1 2
prod
ππ 
.
ππ 
IsActive
ππ 
=
ππ 
pd
ππ  "
.
ππ" #
IsActive
ππ# +
;
ππ+ ,
prod
∫∫ 
.
∫∫ 

IsFeatured
∫∫ 
=
∫∫  !
pd
∫∫" $
.
∫∫$ %

IsFeatured
∫∫% /
;
∫∫/ 0
prod
ªª 
.
ªª 
Price
ªª 
=
ªª 
pd
ªª 
.
ªª  
Price
ªª  %
;
ªª% &
prod
ºº 
.
ºº 
ProductImage
ºº !
=
ºº" #
_ProductImage
ºº$ 1
!=
ºº2 4
null
ºº5 9
?
ºº: ;
_ProductImage
ºº< I
.
ººI J
FileName
ººJ R
:
ººS T
prod
ººU Y
.
ººY Z
ProductImage
ººZ f
;
ººf g
prod
ΩΩ 
.
ΩΩ 
ProductName
ΩΩ  
=
ΩΩ! "
pd
ΩΩ# %
.
ΩΩ% &
ProductName
ΩΩ& 1
;
ΩΩ1 2
prod
ææ 
.
ææ 
ModifiedDate
ææ !
=
ææ" #
DateTime
ææ$ ,
.
ææ, -
Now
ææ- 0
;
ææ0 1
if
øø 
(
øø 
prod
øø 
.
øø 
	ProductId
øø "
==
øø# %
$num
øø& '
)
øø' (
{
¿¿ 
prod
¡¡ 
.
¡¡ 
CreatedDate
¡¡ $
=
¡¡% &
DateTime
¡¡' /
.
¡¡/ 0
Now
¡¡0 3
;
¡¡3 4
prod
¬¬ 
.
¬¬ 
IsDelete
¬¬ !
=
¬¬" #
false
¬¬$ )
;
¬¬) *
_unitOfWork
√√ 
.
√√  #
GetRepositoryInstance
√√  5
<
√√5 6
Tbl_Product
√√6 A
>
√√A B
(
√√B C
)
√√C D
.
√√D E
Add
√√E H
(
√√H I
prod
√√I M
)
√√M N
;
√√N O
}
ƒƒ 
else
≈≈ 
{
∆∆ 
_unitOfWork
«« 
.
««  #
GetRepositoryInstance
««  5
<
««5 6
Tbl_Product
««6 A
>
««A B
(
««B C
)
««C D
.
««D E
Update
««E K
(
««K L
prod
««L P
)
««P Q
;
««Q R
_unitOfWork
»» 
.
»»  
SaveChanges
»»  +
(
»»+ ,
)
»», -
;
»»- .
}
…… 
if
   
(
   
_ProductImage
   !
!=
  " $
null
  % )
)
  ) *
uc
ÀÀ 
.
ÀÀ 
UploadImage
ÀÀ "
(
ÀÀ" #
_ProductImage
ÀÀ# 0
,
ÀÀ0 1
prod
ÀÀ2 6
.
ÀÀ6 7
	ProductId
ÀÀ7 @
+
ÀÀA B
$str
ÀÀC F
,
ÀÀF G
$str
ÀÀH `
,
ÀÀ` a
Server
ÀÀb h
,
ÀÀh i
_unitOfWork
ÀÀj u
,
ÀÀu v
$num
ÀÀw x
,
ÀÀx y
prod
ÀÀz ~
.
ÀÀ~ 
	ProductIdÀÀ à
,ÀÀà â
$numÀÀä ã
)ÀÀã å
;ÀÀå ç
return
ÃÃ 
RedirectToAction
ÃÃ '
(
ÃÃ' (
$str
ÃÃ( 2
)
ÃÃ2 3
;
ÃÃ3 4
}
ÕÕ 
pd
ŒŒ 
.
ŒŒ 

Categories
ŒŒ 
=
ŒŒ 
new
ŒŒ 

SelectList
ŒŒ  *
(
ŒŒ* +
_unitOfWork
ŒŒ+ 6
.
ŒŒ6 7#
GetRepositoryInstance
ŒŒ7 L
<
ŒŒL M
Tbl_Category
ŒŒM Y
>
ŒŒY Z
(
ŒŒZ [
)
ŒŒ[ \
.
ŒŒ\ ]%
GetAllRecordsIQueryable
ŒŒ] t
(
ŒŒt u
)
ŒŒu v
,
ŒŒv w
$strŒŒx Ñ
,ŒŒÑ Ö
$strŒŒÜ î
)ŒŒî ï
;ŒŒï ñ
return
œœ 
View
œœ 
(
œœ 
$str
œœ '
,
œœ' (
pd
œœ) +
)
œœ+ ,
;
œœ, -
}
–– 	
public
◊◊ 

JsonResult
◊◊ 
CheckProductExist
◊◊ +
(
◊◊+ ,
string
◊◊, 2
ProductName
◊◊3 >
)
◊◊> ?
{
ÿÿ 	
int
ŸŸ 
	productId
ŸŸ 
=
ŸŸ 
$num
ŸŸ 
;
ŸŸ 
if
⁄⁄ 
(
⁄⁄ 
HttpUtility
⁄⁄ 
.
⁄⁄ 
ParseQueryString
⁄⁄ ,
(
⁄⁄, -
Request
⁄⁄- 4
.
⁄⁄4 5
UrlReferrer
⁄⁄5 @
.
⁄⁄@ A
Query
⁄⁄A F
)
⁄⁄F G
[
⁄⁄G H
$str
⁄⁄H S
]
⁄⁄S T
!=
⁄⁄U W
null
⁄⁄X \
)
⁄⁄\ ]
	productId
€€ 
=
€€ 
Convert
€€ #
.
€€# $
ToInt32
€€$ +
(
€€+ ,
HttpUtility
€€, 7
.
€€7 8
ParseQueryString
€€8 H
(
€€H I
Request
€€I P
.
€€P Q
UrlReferrer
€€Q \
.
€€\ ]
Query
€€] b
)
€€b c
[
€€c d
$str
€€d o
]
€€o p
)
€€p q
;
€€q r
var
‹‹ 
productExist
‹‹ 
=
‹‹ 
_unitOfWork
‹‹ *
.
‹‹* +#
GetRepositoryInstance
‹‹+ @
<
‹‹@ A
OnlineShopping
‹‹A O
.
‹‹O P
DAL
‹‹P S
.
‹‹S T
Tbl_Product
‹‹T _
>
‹‹_ `
(
‹‹` a
)
‹‹a b
.
‹‹b c%
GetAllRecordsIQueryable
‹‹c z
(
‹‹z {
)
‹‹{ |
.
‹‹| }
Where‹‹} Ç
(‹‹Ç É
i‹‹É Ñ
=>‹‹Ö á
i‹‹à â
.‹‹â ä
ProductName‹‹ä ï
==‹‹ñ ò
ProductName‹‹ô §
&&‹‹• ß
i‹‹® ©
.‹‹© ™
	ProductId‹‹™ ≥
!=‹‹¥ ∂
	productId‹‹∑ ¿
&&‹‹¡ √
i‹‹ƒ ≈
.‹‹≈ ∆
IsActive‹‹∆ Œ
==‹‹œ —
true‹‹“ ÷
&&‹‹◊ Ÿ
i‹‹⁄ €
.‹‹€ ‹
IsDelete‹‹‹ ‰
==‹‹Â Á
false‹‹Ë Ì
)‹‹Ì Ó
.‹‹Ó Ô
Count‹‹Ô Ù
(‹‹Ù ı
)‹‹ı ˆ
;‹‹ˆ ˜
return
›› 
productExist
›› 
==
››  "
$num
››# $
?
››% &
Json
››' +
(
››+ ,
true
››, 0
,
››0 1!
JsonRequestBehavior
››2 E
.
››E F
AllowGet
››F N
)
››N O
:
››P Q
Json
››R V
(
››V W
false
››W \
,
››\ ]!
JsonRequestBehavior
››^ q
.
››q r
AllowGet
››r z
)
››z {
;
››{ |
}
ﬁﬁ 	
public
ËË 
ActionResult
ËË 
ProductDetail
ËË )
(
ËË) *
int
ËË* -
	productId
ËË. 7
)
ËË7 8
{
ÈÈ 	
Tbl_Product
ÍÍ 
pd
ÍÍ 
=
ÍÍ 
_unitOfWork
ÍÍ (
.
ÍÍ( )#
GetRepositoryInstance
ÍÍ) >
<
ÍÍ> ?
Tbl_Product
ÍÍ? J
>
ÍÍJ K
(
ÍÍK L
)
ÍÍL M
.
ÍÍM N
GetFirstOrDefault
ÍÍN _
(
ÍÍ_ `
	productId
ÍÍ` i
)
ÍÍi j
;
ÍÍj k
return
ÎÎ 
View
ÎÎ 
(
ÎÎ 
pd
ÎÎ 
)
ÎÎ 
;
ÎÎ 
}
ÏÏ 	
public
ÛÛ 
ActionResult
ÛÛ 
Orders
ÛÛ "
(
ÛÛ" #
)
ÛÛ# $
{
ÙÙ 	
List
ıı 
<
ıı 
Tbl_Cart
ıı 
>
ıı 
	AllOrders
ıı $
=
ıı% &
_unitOfWork
ıı' 2
.
ıı2 3#
GetRepositoryInstance
ıı3 H
<
ııH I
Tbl_Cart
ııI Q
>
ııQ R
(
ııR S
)
ııS T
.
ııT U 
GetListByParameter
ııU g
(
ııg h
i
ııh i
=>
ııj l
i
ıım n
.
ıın o
CartStatusId
ııo {
==
ıı| ~
$numıı Ä
)ııÄ Å
.ııÅ Ç
ToListııÇ à
(ııà â
)ııâ ä
;ııä ã
return
ˆˆ 
View
ˆˆ 
(
ˆˆ 
	AllOrders
ˆˆ !
)
ˆˆ! "
;
ˆˆ" #
}
˜˜ 	
public
˛˛ 
ActionResult
˛˛ 
OrderDetail
˛˛ '
(
˛˛' (
int
˛˛( +
	productId
˛˛, 5
)
˛˛5 6
{
ˇˇ 	
List
ÄÄ 
<
ÄÄ 
Tbl_Cart
ÄÄ 
>
ÄÄ 
ProductOrders
ÄÄ (
=
ÄÄ) *
_unitOfWork
ÄÄ+ 6
.
ÄÄ6 7#
GetRepositoryInstance
ÄÄ7 L
<
ÄÄL M
Tbl_Cart
ÄÄM U
>
ÄÄU V
(
ÄÄV W
)
ÄÄW X
.
ÄÄX Y 
GetListByParameter
ÄÄY k
(
ÄÄk l
i
ÄÄl m
=>
ÄÄn p
i
ÄÄq r
.
ÄÄr s
CartStatusId
ÄÄs 
==ÄÄÄ Ç
$numÄÄÉ Ñ
&&ÄÄÖ á
iÄÄà â
.ÄÄâ ä
	ProductIdÄÄä ì
==ÄÄî ñ
	productIdÄÄó †
)ÄÄ† °
.ÄÄ° ¢
ToListÄÄ¢ ®
(ÄÄ® ©
)ÄÄ© ™
;ÄÄ™ ´
return
ÅÅ 
View
ÅÅ 
(
ÅÅ 
ProductOrders
ÅÅ %
)
ÅÅ% &
;
ÅÅ& '
}
ÇÇ 	
	protected
ÖÖ 
override
ÖÖ 
void
ÖÖ 
Dispose
ÖÖ  '
(
ÖÖ' (
bool
ÖÖ( ,
	disposing
ÖÖ- 6
)
ÖÖ6 7
{
ÜÜ 	
_unitOfWork
áá 
.
áá 
Dispose
áá 
(
áá  
)
áá  !
;
áá! "
base
àà 
.
àà 
Dispose
àà 
(
àà 
	disposing
àà "
)
àà" #
;
àà# $
}
ââ 	
}
ãã 
}åå π
^C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Controllers\HomeController.cs
	namespace		 	
OnlineShopping		
 
.		 
Controllers		 $
{

 
[ !
FrontPageActionFilter 
] 
public 

class 
HomeController 
:  !

Controller" ,
{ 
public 
GenericUnitOfWork  
_unitOfWork! ,
=- .
new/ 2
GenericUnitOfWork3 D
(D E
)E F
;F G
public 
ActionResult 
Index !
(! "
)" #
{ 	
ViewBag 
. 
FeaturedProducts $
=% &
_unitOfWork' 2
.2 3!
GetRepositoryInstance3 H
<H I
Tbl_ProductI T
>T U
(U V
)V W
.W X
GetListByParameterX j
(j k
ik l
=>m o
ip q
.q r

IsFeaturedr |
==} 
true
Ä Ñ
&&
Ö á
i
à â
.
â ä
IsDelete
ä í
==
í î
false
î ô
&&
ö ú
i
ù û
.
û ü
IsActive
ü ß
==
ß ©
true
© ≠
)
≠ Æ
.
Æ Ø
ToList
Ø µ
(
µ ∂
)
∂ ∑
;
∑ ∏
return 
View 
( 
) 
; 
} 	
	protected 
override 
void 
Dispose  '
(' (
bool( ,
	disposing- 6
)6 7
{ 	
_unitOfWork 
. 
Dispose 
(  
)  !
;! "
base 
. 
Dispose 
( 
	disposing "
)" #
;# $
}   	
}"" 
}## ë
`C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Controllers\SearchController.cs
	namespace 	
OnlineShopping
 
. 
Controllers $
{ 
[ !
FrontPageActionFilter 
] 
public 

class 
SearchController !
:" #

Controller$ .
{ 
public 
GenericUnitOfWork  
_unitOfWork! ,
=- .
new/ 2
GenericUnitOfWork3 D
(D E
)E F
;F G
private 
int 
	_memberId 
; 
public 
int 
memberId 
{ 	
get 
{ 
return 
Convert  
.  !
ToInt32! (
(( )
Session) 0
[0 1
$str1 ;
]; <
)< =
;= >
}? @
set 
{ 
	_memberId 
= 
Convert %
.% &
ToInt32& -
(- .
Session. 5
[5 6
$str6 @
]@ A
)A B
;B C
}D E
} 	
public 
ActionResult 
Index !
(! "
string" (
	searchKey) 2
=3 4
$str5 7
)7 8
{   	
ViewBag!! 
.!! 
	searchKey!! 
=!! 
	searchKey!!  )
;!!) *
List!!+ /
<!!/ 0
USP_Search_Result!!0 A
>!!A B
sr!!C E
=!!F G
_unitOfWork!!H S
.!!S T!
GetRepositoryInstance!!T i
<!!i j
USP_Search_Result!!j {
>!!{ |
(!!| }
)!!} ~
.!!~ $
GetResultBySqlProcedure	!! ñ
(
!!ñ ó
$str
!!ó Æ
,
!!Æ Ø
new
!!∞ ≥
SqlParameter
!!¥ ¿
(
!!¿ ¡
$str
!!¡ Ã
,
!!Ã Õ
	SqlDbType
!!Œ ◊
.
!!◊ ÿ
VarChar
!!ÿ ﬂ
)
!!ﬂ ‡
{
!!· ‚
Value
!!„ Ë
=
!!È Í
	searchKey
!!Î Ù
}
!!ı ˆ
)
!!ˆ ˜
.
!!˜ ¯
ToList
!!¯ ˛
(
!!˛ ˇ
)
!!ˇ Ä
;
!!Ä Å
return"" 
View"" 
("" 
sr"" 
)"" 
;"" 
}## 	
public** 
ActionResult** 
ProductDetail** )
(**) *
int*** -
pId**. 1
)**1 2
{++ 	
Tbl_Product,, 
pd,, 
=,, 
_unitOfWork,, (
.,,( )!
GetRepositoryInstance,,) >
<,,> ?
Tbl_Product,,? J
>,,J K
(,,K L
),,L M
.,,M N
GetFirstOrDefault,,N _
(,,_ `
pId,,` c
),,c d
;,,d e
ViewBag-- 
.-- 
SimilarProducts-- #
=--$ %
_unitOfWork--& 1
.--1 2!
GetRepositoryInstance--2 G
<--G H
Tbl_Product--H S
>--S T
(--T U
)--U V
.--V W
GetListByParameter--W i
(--i j
i--j k
=>--l n
i--o p
.--p q

CategoryId--q {
==--| ~
pd	-- Å
.
--Å Ç

CategoryId
--Ç å
)
--å ç
.
--ç é
ToList
--é î
(
--î ï
)
--ï ñ
;
--ñ ó
return.. 
View.. 
(.. 
pd.. 
).. 
;.. 
}// 	
}11 
}22 ôZ
bC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Controllers\ShoppingController.cs
	namespace 	
OnlineShopping
 
. 
Controllers $
{ 
[ !
FrontPageActionFilter 
] 
[ 
AuthorizeUser 
] 
public 

class 
ShoppingController #
:$ %

Controller& 0
{ 
public 
GenericUnitOfWork  
_unitOfWork! ,
=- .
new/ 2
GenericUnitOfWork3 D
(D E
)E F
;F G
private 
int 
	_memberId 
; 
public 
int 
memberId 
{ 	
get 
{ 
return 
Convert  
.  !
ToInt32! (
(( )
Session) 0
[0 1
$str1 ;
]; <
)< =
;= >
}? @
set 
{ 
	_memberId 
= 
Convert %
.% &
ToInt32& -
(- .
Session. 5
[5 6
$str6 @
]@ A
)A B
;B C
}D E
} 	
public## 
ActionResult## 
AddProductToCart## ,
(##, -
int##- 0
	productId##1 :
)##: ;
{$$ 	
Tbl_Cart%% 
c%% 
=%% 
new%% 
Tbl_Cart%% %
(%%% &
)%%& '
;%%' (
c&& 
.&& 
AddedOn&& 
=&& 
DateTime&&  
.&&  !
Now&&! $
;&&$ %
c'' 
.'' 
CartStatusId'' 
='' 
$num'' 
;'' 
c(( 
.(( 
MemberId(( 
=(( 
memberId(( !
;((! "
c)) 
.)) 
	ProductId)) 
=)) 
	productId)) #
;))# $
c** 
.** 
	UpdatedOn** 
=** 
DateTime** "
.**" #
Now**# &
;**& '
_unitOfWork++ 
.++ !
GetRepositoryInstance++ -
<++- .
Tbl_Cart++. 6
>++6 7
(++7 8
)++8 9
.++9 :
Add++: =
(++= >
c++> ?
)++? @
;++@ A
_unitOfWork,, 
.,, 
SaveChanges,, #
(,,# $
),,$ %
;,,% &
TempData-- 
[-- 
$str-- )
]--) *
=--+ ,
$str--- Q
;--Q R
return.. 
RedirectToAction.. #
(..# $
$str..$ +
,..+ ,
$str..- 5
)..5 6
;..6 7
}// 	
public55 
ActionResult55 
MyCart55 "
(55" #
)55# $
{66 	
List77 
<77 0
$USP_MemberShoppingCartDetails_Result77 5
>775 6
cd777 9
=77: ;
_unitOfWork77< G
.77G H!
GetRepositoryInstance77H ]
<77] ^1
$USP_MemberShoppingCartDetails_Result	77^ Ç
>
77Ç É
(
77É Ñ
)
77Ñ Ö
.
77Ö Ü%
GetResultBySqlProcedure
77Ü ù
(
77ù û
$str
77û «
,
77« »
new88 
SqlParameter88  
(88  !
$str88! +
,88+ ,
System88- 3
.883 4
Data884 8
.888 9
	SqlDbType889 B
.88B C
Int88C F
)88F G
{88H I
Value88J O
=88P Q
memberId88R Z
}88[ \
)88\ ]
.88] ^
ToList88^ d
(88d e
)88e f
;88f g
return99 
View99 
(99 
cd99 
)99 
;99 
}:: 	
publicAA 
ActionResultAA 
RemoveCartItemAA *
(AA* +
intAA+ .
	productIdAA/ 8
)AA8 9
{BB 	
Tbl_CartCC 
cCC 
=CC 
_unitOfWorkCC $
.CC$ %!
GetRepositoryInstanceCC% :
<CC: ;
Tbl_CartCC; C
>CCC D
(CCD E
)CCE F
.CCF G(
GetFirstOrDefaultByParameterCCG c
(CCc d
iCCd e
=>CCf h
iCCi j
.CCj k
	ProductIdCCk t
==CCu w
	productId	CCx Å
&&
CCÇ Ñ
i
CCÖ Ü
.
CCÜ á
MemberId
CCá è
==
CCê í
memberId
CCì õ
&&
CCú û
i
CCü †
.
CC† °
CartStatusId
CC° ≠
==
CCÆ ∞
$num
CC± ≤
)
CC≤ ≥
;
CC≥ ¥
cDD 
.DD 
CartStatusIdDD 
=DD 
$numDD 
;DD 
cEE 
.EE 
	UpdatedOnEE 
=EE 
DateTimeEE "
.EE" #
NowEE# &
;EE& '
_unitOfWorkFF 
.FF !
GetRepositoryInstanceFF -
<FF- .
Tbl_CartFF. 6
>FF6 7
(FF7 8
)FF8 9
.FF9 :
UpdateFF: @
(FF@ A
cFFA B
)FFB C
;FFC D
_unitOfWorkGG 
.GG 
SaveChangesGG #
(GG# $
)GG$ %
;GG% &
returnHH 
RedirectToActionHH #
(HH# $
$strHH$ ,
)HH, -
;HH- .
}II 	
publicOO 
ActionResultOO 
CheckOutOO $
(OO$ %
)OO% &
{PP 	
ListQQ 
<QQ 0
$USP_MemberShoppingCartDetails_ResultQQ 5
>QQ5 6
cdQQ7 9
=QQ: ;
_unitOfWorkQQ< G
.QQG H!
GetRepositoryInstanceQQH ]
<QQ] ^1
$USP_MemberShoppingCartDetails_Result	QQ^ Ç
>
QQÇ É
(
QQÉ Ñ
)
QQÑ Ö
.
QQÖ Ü%
GetResultBySqlProcedure
QQÜ ù
(
QQù û
$str
QQû «
,
QQ« »
newRR 
SqlParameterRR 
(RR  
$strRR  *
,RR* +
SystemRR, 2
.RR2 3
DataRR3 7
.RR7 8
	SqlDbTypeRR8 A
.RRA B
IntRRB E
)RRE F
{RRG H
ValueRRI N
=RRO P
memberIdRRQ Y
}RRZ [
)RR[ \
.RR\ ]
ToListRR] c
(RRc d
)RRd e
;RRe f
ViewBagSS 
.SS 

TotalPriceSS 
=SS  
cdSS! #
.SS# $
SumSS$ '
(SS' (
iSS( )
=>SS* ,
iSS- .
.SS. /
PriceSS/ 4
)SS4 5
;SS5 6
ViewBagTT 
.TT 
CartIdsTT 
=TT 
stringTT $
.TT$ %
JoinTT% )
(TT) *
$strTT* -
,TT- .
cdTT/ 1
.TT1 2
SelectTT2 8
(TT8 9
iTT9 :
=>TT; =
iTT> ?
.TT? @
CartIdTT@ F
)TTF G
.TTG H
ToListTTH N
(TTN O
)TTO P
)TTP Q
;TTQ R
returnUU 
ViewUU 
(UU 
cdUU 
)UU 
;UU 
}VV 	
public]] 
ActionResult]] 
PaymentSuccess]] *
(]]* +
ShippingDetails]]+ :
shippingDetails]]; J
)]]J K
{^^ 	
Tbl_ShippingDetails__ 
sd__  "
=__# $
new__% (
Tbl_ShippingDetails__) <
(__< =
)__= >
;__> ?
sd`` 
.`` 
MemberId`` 
=`` 
memberId`` "
;``" #
sdaa 
.aa 
AddressLineaa 
=aa 
shippingDetailsaa ,
.aa, -
Addressaa- 4
;aa4 5
sdbb 
.bb 
Citybb 
=bb 
shippingDetailsbb %
.bb% &
Citybb& *
;bb* +
sdcc 
.cc 
Statecc 
=cc 
shippingDetailscc &
.cc& '
Statecc' ,
;cc, -
sddd 
.dd 
Countrydd 
=dd 
shippingDetailsdd (
.dd( )
Countrydd) 0
;dd0 1
sdee 
.ee 
ZipCodeee 
=ee 
shippingDetailsee (
.ee( )
ZipCodeee) 0
;ee0 1
sdff 
.ff 
OrderIdff 
=ff 
Guidff 
.ff 
NewGuidff %
(ff% &
)ff& '
.ff' (
ToStringff( 0
(ff0 1
)ff1 2
;ff2 3
sdgg 
.gg 

AmountPaidgg 
=gg 
shippingDetailsgg +
.gg+ ,

TotalPricegg, 6
;gg6 7
sdhh 
.hh 
PaymentTypehh 
=hh 
shippingDetailshh ,
.hh, -
PaymentTypehh- 8
;hh8 9
_unitOfWorkii 
.ii !
GetRepositoryInstanceii -
<ii- .
Tbl_ShippingDetailsii. A
>iiA B
(iiB C
)iiC D
.iiD E
AddiiE H
(iiH I
sdiiI K
)iiK L
;iiL M
_unitOfWorkjj 
.jj !
GetRepositoryInstancejj -
<jj- .
Tbl_Cartjj. 6
>jj6 7
(jj7 8
)jj8 9
.jj9 :
UpdateByWhereClausejj: M
(jjM N
ijjN O
=>jjP R
ijjS T
.jjT U
MemberIdjjU ]
==jj^ `
memberIdjja i
&&jjj l
ijjm n
.jjn o
CartStatusIdjjo {
==jj| ~
$num	jj Ä
,
jjÄ Å
(
jjÇ É
j
jjÉ Ñ
=>
jjÖ á
j
jjà â
.
jjâ ä
CartStatusId
jjä ñ
=
jjó ò
$num
jjô ö
)
jjö õ
)
jjõ ú
;
jjú ù
_unitOfWorkkk 
.kk 
SaveChangeskk #
(kk# $
)kk$ %
;kk% &
ifll 
(ll 
!ll 
stringll 
.ll 
IsNullOrEmptyll %
(ll% &
Requestll& -
[ll- .
$strll. 7
]ll7 8
)ll8 9
)ll9 :
{mm 
intnn 
[nn 
]nn 
cartIdsToUpdatenn %
=nn& '
Requestnn( /
[nn/ 0
$strnn0 9
]nn9 :
.nn: ;
Splitnn; @
(nn@ A
$charnnA D
)nnD E
.nnE F
SelectnnF L
(nnL M
Int32nnM R
.nnR S
ParsennS X
)nnX Y
.nnY Z
ToArraynnZ a
(nna b
)nnb c
;nnc d
_unitOfWorkoo 
.oo !
GetRepositoryInstanceoo 1
<oo1 2
Tbl_Cartoo2 :
>oo: ;
(oo; <
)oo< =
.oo= >
UpdateByWhereClauseoo> Q
(ooQ R
iooR S
=>ooT V
cartIdsToUpdateooW f
.oof g
Containsoog o
(ooo p
ioop q
.ooq r
CartIdoor x
)oox y
,ooy z
(oo{ |
joo| }
=>	oo~ Ä
j
ooÅ Ç
.
ooÇ É
ShippingDetailId
ooÉ ì
=
ooî ï
sd
ooñ ò
.
ooò ô
ShippingDetailId
ooô ©
)
oo© ™
)
oo™ ´
;
oo´ ¨
_unitOfWorkpp 
.pp 
SaveChangespp '
(pp' (
)pp( )
;pp) *
}rr 
returnss 
Viewss 
(ss 
sdss 
)ss 
;ss 
}tt 	
}uu 
}vv †(
_C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Online_Shopping.Context.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class $
Online_ShoppingEntities1 1
:2 3
	DbContext4 =
{ 
public $
Online_ShoppingEntities1 '
(' (
)( )
: 
base 
( 
$str 2
)2 3
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
DbModelBuilder0 >
modelBuilder? K
)K L
{ 	
throw 
new +
UnintentionalCodeFirstException 5
(5 6
)6 7
;7 8
} 	
public 
virtual 
DbSet 
< 
Tbl_Cart %
>% &
Tbl_Cart' /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
DbSet 
< 
Tbl_CartStatus +
>+ ,
Tbl_CartStatus- ;
{< =
get> A
;A B
setC F
;F G
}H I
public   
virtual   
DbSet   
<   
Tbl_Category   )
>  ) *
Tbl_Category  + 7
{  8 9
get  : =
;  = >
set  ? B
;  B C
}  D E
public!! 
virtual!! 
DbSet!! 
<!! 
Tbl_MemberRole!! +
>!!+ ,
Tbl_MemberRole!!- ;
{!!< =
get!!> A
;!!A B
set!!C F
;!!F G
}!!H I
public"" 
virtual"" 
DbSet"" 
<"" 
Tbl_Members"" (
>""( )
Tbl_Members""* 5
{""6 7
get""8 ;
;""; <
set""= @
;""@ A
}""B C
public## 
virtual## 
DbSet## 
<## 
Tbl_Product## (
>##( )
Tbl_Product##* 5
{##6 7
get##8 ;
;##; <
set##= @
;##@ A
}##B C
public$$ 
virtual$$ 
DbSet$$ 
<$$ 
	Tbl_Roles$$ &
>$$& '
	Tbl_Roles$$( 1
{$$2 3
get$$4 7
;$$7 8
set$$9 <
;$$< =
}$$> ?
public%% 
virtual%% 
DbSet%% 
<%% 
Tbl_ShippingDetails%% 0
>%%0 1
Tbl_ShippingDetails%%2 E
{%%F G
get%%H K
;%%K L
set%%M P
;%%P Q
}%%R S
public'' 
virtual'' 
ObjectResult'' #
<''# $0
$USP_MemberShoppingCartDetails_Result''$ H
>''H I)
USP_MemberShoppingCartDetails''J g
(''g h
Nullable''h p
<''p q
int''q t
>''t u
memberId''v ~
)''~ 
{(( 	
var)) 
memberIdParameter)) !
=))" #
memberId))$ ,
.)), -
HasValue))- 5
?))6 7
new** 
ObjectParameter** #
(**# $
$str**$ .
,**. /
memberId**0 8
)**8 9
:**: ;
new++ 
ObjectParameter++ #
(++# $
$str++$ .
,++. /
typeof++0 6
(++6 7
int++7 :
)++: ;
)++; <
;++< =
return-- 
(-- 
(-- !
IObjectContextAdapter-- *
)--* +
this--+ /
)--/ 0
.--0 1
ObjectContext--1 >
.--> ?
ExecuteFunction--? N
<--N O0
$USP_MemberShoppingCartDetails_Result--O s
>--s t
(--t u
$str	--u î
,
--î ï
memberIdParameter
--ñ ß
)
--ß ®
;
--® ©
}.. 	
public00 
virtual00 
ObjectResult00 #
<00# $
USP_Search_Result00$ 5
>005 6

USP_Search007 A
(00A B
string00B H
	searchKey00I R
)00R S
{11 	
var22 
searchKeyParameter22 "
=22# $
	searchKey22% .
!=22/ 1
null222 6
?227 8
new33 
ObjectParameter33 #
(33# $
$str33$ /
,33/ 0
	searchKey331 :
)33: ;
:33< =
new44 
ObjectParameter44 #
(44# $
$str44$ /
,44/ 0
typeof441 7
(447 8
string448 >
)44> ?
)44? @
;44@ A
return66 
(66 
(66 !
IObjectContextAdapter66 *
)66* +
this66+ /
)66/ 0
.660 1
ObjectContext661 >
.66> ?
ExecuteFunction66? N
<66N O
USP_Search_Result66O `
>66` a
(66a b
$str66b n
,66n o
searchKeyParameter	66p Ç
)
66Ç É
;
66É Ñ
}77 	
}88 
}99 b
`C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Online_Shopping.Designer.csY
WC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Online_Shopping.cs’
PC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_Cart.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_Cart !
{ 
public 
int 
CartId 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
int 
> 
	ProductId &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
int 
> 
MemberId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Nullable 
< 
int 
> 
CartStatusId )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
Nullable 
< 
System 
. 
DateTime '
>' (
AddedOn) 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
Nullable 
< 
System 
. 
DateTime '
>' (
	UpdatedOn) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
Nullable 
< 
int 
> 
ShippingDetailId -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
virtual 
Tbl_CartStatus %
Tbl_CartStatus& 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
virtual 
Tbl_CartStatus %
Tbl_CartStatus1& 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
virtual 
Tbl_Product "
Tbl_Product# .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual 
Tbl_Product "
Tbl_Product1# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
Tbl_Product "
Tbl_Product2# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
virtual 
Tbl_Product "
Tbl_Product3# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
} 
}   —
VC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_CartStatus.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_CartStatus '
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
Tbl_CartStatus 
( 
) 
{ 	
this 
. 
Tbl_Cart 
= 
new 
HashSet  '
<' (
Tbl_Cart( 0
>0 1
(1 2
)2 3
;3 4
this 
. 
	Tbl_Cart1 
= 
new  
HashSet! (
<( )
Tbl_Cart) 1
>1 2
(2 3
)3 4
;4 5
} 	
public 
int 
CartStatusId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 

CartStatus  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
Tbl_Cart# +
>+ ,
Tbl_Cart- 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
Tbl_Cart# +
>+ ,
	Tbl_Cart1- 6
{7 8
get9 <
;< =
set> A
;A B
}C D
} 
}   ∫
TC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_Category.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_Category %
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
Tbl_Category 
( 
) 
{ 	
this 
. 
Tbl_Product 
= 
new "
HashSet# *
<* +
Tbl_Product+ 6
>6 7
(7 8
)8 9
;9 :
} 	
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
bool 
> 
IsActive &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
bool 
> 
IsDelete &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
Tbl_Product# .
>. /
Tbl_Product0 ;
{< =
get> A
;A B
setC F
;F G
}H I
} 
} £
VC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_MemberRole.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_MemberRole '
{ 
public 
int 
MemberRoleId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
Nullable 
< 
int 
> 
MemberId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Nullable 
< 
int 
> 
RoleId #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
virtual 
	Tbl_Roles  
	Tbl_Roles! *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
} 
} ≈
SC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_Members.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_Members $
{ 
public 
int 
MemberId 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
EmailId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Nullable 
< 
bool 
> 
IsActive &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
bool 
> 
IsDelete &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
System 
. 
DateTime '
>' (
	CreatedOn) 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
Nullable 
< 
System 
. 
DateTime '
>' (

ModifiedOn) 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
} 
} ¨-
SC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_Product.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_Product $
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
Tbl_Product 
( 
) 
{ 	
this 
. 
Tbl_Cart 
= 
new 
HashSet  '
<' (
Tbl_Cart( 0
>0 1
(1 2
)2 3
;3 4
this 
. 
	Tbl_Cart1 
= 
new  
HashSet! (
<( )
Tbl_Cart) 1
>1 2
(2 3
)3 4
;4 5
this 
. 
	Tbl_Cart2 
= 
new  
HashSet! (
<( )
Tbl_Cart) 1
>1 2
(2 3
)3 4
;4 5
this 
. 
	Tbl_Cart3 
= 
new  
HashSet! (
<( )
Tbl_Cart) 1
>1 2
(2 3
)3 4
;4 5
} 	
public 
int 
	ProductId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ProductName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
int 
> 

CategoryId '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
Nullable 
< 
bool 
> 
IsActive &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
bool 
> 
IsDelete &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
System 
. 
DateTime '
>' (
CreatedDate) 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public   
Nullable   
<   
System   
.   
DateTime   '
>  ' (
ModifiedDate  ) 5
{  6 7
get  8 ;
;  ; <
set  = @
;  @ A
}  B C
public!! 
string!! 
Description!! !
{!!" #
get!!$ '
;!!' (
set!!) ,
;!!, -
}!!. /
public"" 
string"" 
ProductImage"" "
{""# $
get""% (
;""( )
set""* -
;""- .
}""/ 0
public## 
Nullable## 
<## 
decimal## 
>##  
Price##! &
{##' (
get##) ,
;##, -
set##. 1
;##1 2
}##3 4
public$$ 
Nullable$$ 
<$$ 
bool$$ 
>$$ 

IsFeatured$$ (
{$$) *
get$$+ .
;$$. /
set$$0 3
;$$3 4
}$$5 6
[&& 	
System&&	 
.&& 
Diagnostics&& 
.&& 
CodeAnalysis&& (
.&&( )
SuppressMessage&&) 8
(&&8 9
$str&&9 J
,&&J K
$str&&L y
)&&y z
]&&z {
public'' 
virtual'' 
ICollection'' "
<''" #
Tbl_Cart''# +
>''+ ,
Tbl_Cart''- 5
{''6 7
get''8 ;
;''; <
set''= @
;''@ A
}''B C
[(( 	
System((	 
.(( 
Diagnostics(( 
.(( 
CodeAnalysis(( (
.((( )
SuppressMessage(() 8
(((8 9
$str((9 J
,((J K
$str((L y
)((y z
]((z {
public)) 
virtual)) 
ICollection)) "
<))" #
Tbl_Cart))# +
>))+ ,
	Tbl_Cart1))- 6
{))7 8
get))9 <
;))< =
set))> A
;))A B
}))C D
[** 	
System**	 
.** 
Diagnostics** 
.** 
CodeAnalysis** (
.**( )
SuppressMessage**) 8
(**8 9
$str**9 J
,**J K
$str**L y
)**y z
]**z {
public++ 
virtual++ 
ICollection++ "
<++" #
Tbl_Cart++# +
>+++ ,
	Tbl_Cart2++- 6
{++7 8
get++9 <
;++< =
set++> A
;++A B
}++C D
[,, 	
System,,	 
.,, 
Diagnostics,, 
.,, 
CodeAnalysis,, (
.,,( )
SuppressMessage,,) 8
(,,8 9
$str,,9 J
,,,J K
$str,,L y
),,y z
],,z {
public-- 
virtual-- 
ICollection-- "
<--" #
Tbl_Cart--# +
>--+ ,
	Tbl_Cart3--- 6
{--7 8
get--9 <
;--< =
set--> A
;--A B
}--C D
public.. 
virtual.. 
Tbl_Category.. #
Tbl_Category..$ 0
{..1 2
get..3 6
;..6 7
set..8 ;
;..; <
}..= >
}// 
}00 ô
QC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_Roles.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
	Tbl_Roles "
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL ~
)~ 
]	 Ä
public 
	Tbl_Roles 
( 
) 
{ 	
this 
. 
Tbl_MemberRole 
=  !
new" %
HashSet& -
<- .
Tbl_MemberRole. <
>< =
(= >
)> ?
;? @
} 	
public 
int 
RoleId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
RoleName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 J
,J K
$strL y
)y z
]z {
public 
virtual 
ICollection "
<" #
Tbl_MemberRole# 1
>1 2
Tbl_MemberRole3 A
{B C
getD G
;G H
setI L
;L M
}N O
} 
} ƒ
[C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\Tbl_ShippingDetails.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
Tbl_ShippingDetails ,
{ 
public 
int 
ShippingDetailId #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Nullable 
< 
int 
> 
MemberId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
AddressLine !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
ZipCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
OrderId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
Nullable 
< 
decimal 
>  

AmountPaid! +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
public 
string 
PaymentType !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} √

lC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\USP_MemberShoppingCartDetails_Result.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 0
$USP_MemberShoppingCartDetails_Result =
{ 
public 
int 
CartId 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nullable 
< 
decimal 
>  
Price! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
	ProductId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ProductImage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
ProductName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} •

YC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\DAL\USP_Search_Result.cs
	namespace

 	
OnlineShopping


 
.

 
DAL

 
{ 
public 

partial 
class 
USP_Search_Result *
{ 
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
Nullable 
< 
decimal 
>  
Price! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
	ProductId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
ProductImage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
ProductName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ¿
XC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Filters\ActionFilter.cs
	namespace 	
OnlineShopping
 
. 
Filters  
{ 
public 

class !
FrontPageActionFilter &
:' (
FilterAttribute) 8
,8 9
IActionFilter: G
{ 
public 
void 
OnActionExecuting %
(% &"
ActionExecutingContext& <
filterContext= J
)J K
{ 	
dynamic 

controller 
; 
string 
controllerName !
=" #
filterContext$ 1
.1 2
RequestContext2 @
.@ A
HttpContextA L
.L M
RequestM T
.T U
RawUrlU [
.[ \
Split\ a
(a b
$charb e
)e f
[f g
$numg h
]h i
.i j
ToLowerj q
(q r
)r s
;s t
switch 
( 
controllerName "
)" #
{ 
case 
$str 
: 

controller 
=  
(! "
HomeController" 0
)0 1
filterContext1 >
.> ?

Controller? I
;I J
break 
; 
case 
$str 
: 

controller 
=  
(! "
SearchController" 2
)2 3
filterContext3 @
.@ A

ControllerA K
;K L
break 
; 
case 
$str 
: 

controller 
=  
(! "
AccountController" 3
)3 4
filterContext4 A
.A B

ControllerB L
;L M
break   
;   
case!! 
$str!! 
:!! 

controller"" 
=""  
(""! "
AdminController""" 1
)""1 2
filterContext""2 ?
.""? @

Controller""@ J
;""J K
break## 
;## 
case$$ 
$str$$ 
:$$  

controller%% 
=%%  
(%%! "
ShoppingController%%" 4
)%%4 5
filterContext%%5 B
.%%B C

Controller%%C M
;%%M N
break&& 
;&& 
default'' 
:'' 

controller(( 
=((  
(((! "
HomeController((" 0
)((0 1
filterContext((1 >
.((> ?

Controller((? I
;((I J
break)) 
;)) 
}** 
GenericUnitOfWork,, 
_unitOfWork,, )
=,,* +

controller,,, 6
.,,6 7
_unitOfWork,,7 B
;,,B C
filterContext-- 
.-- 

Controller-- $
.--$ %
ViewBag--% ,
.--, -"
CategoryAndSubCategory--- C
=--D E
_unitOfWork--F Q
.--Q R!
GetRepositoryInstance--R g
<--g h
Tbl_Category--h t
>--t u
(--u v
)--v w
.--w x$
GetAllRecordsIQueryable	--x è
(
--è ê
)
--ê ë
.
--ë í
ToList
--í ò
(
--ò ô
)
--ô ö
;
--ö õ
}.. 	
void00 
IActionFilter00 
.00 
OnActionExecuted00 +
(00+ ,!
ActionExecutedContext00, A
filterContext00B O
)00O P
{11 	
}33 	
}44 
}66 º
_C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Filters\AuthorizeUserFilter.cs
	namespace 	
OnlineShopping
 
. 
Filters  
{ 
public		 

class		 "
AuthorizeUserAttribute		 '
:		( )
AuthorizeAttribute		* <
{

 
	protected 
override 
bool 
AuthorizeCore  -
(- .
HttpContextBase. =
httpContext> I
)I J
{ 	
bool 
IsValidUser 
= 
true #
;# $
if 
( 
HttpContext 
. 
Current #
.# $
Session$ +
[+ ,
$str, 6
]6 7
==8 :
null; ?
||@ B
HttpContextC N
.N O
CurrentO V
.V W
SessionW ^
[^ _
$str_ i
]i j
==k m
$strn q
)q r
IsValidUser 
= 
false #
;# $
if 
( 
IsValidUser 
) 
{ 
if 
( 
! 
string 
. 
IsNullOrEmpty )
() *
Roles* /
)/ 0
)0 1
{ 
string 
privilegeLevels *
=+ ,
string- 3
.3 4
Join4 8
(8 9
$str9 ;
,; <
HttpContext= H
.H I
CurrentI P
.P Q
RequestQ X
.X Y
CookiesY `
[` a
$stra m
]m n
.n o
Valueo t
)t u
;u v
if 
( 
Roles 
. 
Contains &
(& '
privilegeLevels' 6
)6 7
)7 8
IsValidUser #
=$ %
true& *
;* +
else 
IsValidUser #
=$ %
false& +
;+ ,
} 
} 
return 
IsValidUser 
; 
}   	
	protected## 
override## 
void## %
HandleUnauthorizedRequest##  9
(##9 : 
AuthorizationContext##: N
filterContext##O \
)##\ ]
{$$ 	
filterContext%% 
.%% 
Result%%  
=%%! "
new%%# &!
RedirectToRouteResult%%' <
(%%< =
new&& 
System&& "
.&&" #
Web&&# &
.&&& '
Routing&&' .
.&&. / 
RouteValueDictionary&&/ C
{'' 
{(( 
$str(( &
,((& '
$str((( /
}((0 1
,((1 2
{)) 
$str)) *
,))* +
$str)), 2
}))3 4
,))4 5
{** 
$str** (
,**( )
filterContext**) 6
.**6 7
HttpContext**7 B
.**B C
Request**C J
.**J K
Url**K N
.**N O
PathAndQuery**O [
}**[ \
}++ 
)++ 
;++ 
},, 	
}-- 
}.. ¸
OC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Global.asax.cs
	namespace		 	
OnlineShopping		
 
{

 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
} 	
} 
} öJ
\C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Models\AccountViewModels.cs
	namespace 	
OnlineShopping
 
. 
Models 
{ 
public 

class 
LoginViewModel 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
[		 	
EmailAddress			 
(		 
ErrorMessage		 "
=		# $
$str		% <
)		< =
]		= >
[

 	
StringLength

	 
(

 
$num

 
,

 
ErrorMessage

 '
=

( )
$str

* ^
,

^ _
MinimumLength

` m
=

n o
$num

p q
)

q r
]

r s
public 
string 
UserEmailId !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 7
)7 8
]8 9
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* ^
,^ _
MinimumLength` m
=n o
$nump q
)q r
]r s
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 

RememberMe 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
UserType 
{ 
get !
;! "
set# &
;& '
}( )
} 
public 

class 
RegisterViewModel "
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 9
)9 :
]: ;
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* ^
,^ _
MinimumLength` m
=n o
$nump q
)q r
]r s
public 
string 
	FirstName 
{  !
get" %
;% &
set' *
;* +
}, -
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 8
)8 9
]9 :
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* ^
,^ _
MinimumLength` m
=n o
$nump q
)q r
]r s
public 
string 
LastName 
{  
get! $
;$ %
set& )
;) *
}+ ,
[   	
Required  	 
(   
ErrorMessage   
=    
$str  ! <
)  < =
]  = >
[!! 	
DataType!!	 
(!! 
DataType!! 
.!! 
EmailAddress!! '
)!!' (
]!!( )
["" 	
EmailAddress""	 
("" 
ErrorMessage"" "
=""# $
$str""% <
)""< =
]""= >
[## 	
StringLength##	 
(## 
$num## 
,## 
ErrorMessage## '
=##( )
$str##* ^
,##^ _
MinimumLength##` m
=##n o
$num##p q
)##q r
]##r s
[$$ 	
System$$	 
.$$ 
Web$$ 
.$$ 
Mvc$$ 
.$$ 
Remote$$ 
($$ 
$str$$ 0
,$$0 1
$str$$2 ;
,$$; <
ErrorMessage$$= I
=$$I J
$str$$K j
)$$j k
]$$k l
public%% 
string%% 
UserEmailId%% !
{%%" #
get%%$ '
;%%' (
set%%) ,
;%%, -
}%%. /
['' 	
Required''	 
('' 
ErrorMessage'' 
=''  
$str''! 7
)''7 8
]''8 9
[(( 	
StringLength((	 
((( 
$num(( 
,(( 
ErrorMessage(( '
=((( )
$str((* ^
,((^ _
MinimumLength((` m
=((n o
$num((p q
)((q r
]((r s
public)) 
string)) 
Password)) 
{))  
get))! $
;))$ %
set))& )
;))) *
}))+ ,
[++ 	
Required++	 
(++ 
ErrorMessage++ 
=++  
$str++! ?
)++? @
]++@ A
[,, 	
Compare,,	 
(,, 
$str,, 
,,, 
ErrorMessage,, )
=,,* +
$str,,, D
),,D E
],,E F
public-- 
string-- 
ConfirmPassword-- %
{--& '
get--( +
;--+ ,
set--- 0
;--0 1
}--2 3
[// 	
Required//	 
]// 
[00 	
Display00	 
(00 
Name00 
=00 
$str00 #
)00# $
]00$ %
public11 
int11 
UserType11 
{11 
get11 !
;11! "
set11# &
;11& '
}11( )
}22 
public44 

class44 #
ChangePasswordViewModel44 (
{55 
[66 	
Required66	 
(66 
ErrorMessage66 
=66  
$str66! 7
)667 8
]668 9
[77 	
DataType77	 
(77 
DataType77 
.77 
Password77 #
)77# $
]77$ %
[88 	
StringLength88	 
(88 
$num88 
,88 
ErrorMessage88 '
=88( )
$str88* ^
,88^ _
MinimumLength88` m
=88n o
$num88p q
)88q r
]88r s
public99 
string99 
OldPassword99 !
{99" #
get99$ '
;99' (
set99) ,
;99, -
}99. /
[;; 	
Required;;	 
(;; 
ErrorMessage;; 
=;;  
$str;;! 7
);;7 8
];;8 9
[<< 	
StringLength<<	 
(<< 
$num<< 
,<< 
ErrorMessage<< '
=<<( )
$str<<* ^
,<<^ _
MinimumLength<<` m
=<<n o
$num<<p q
)<<q r
]<<r s
public== 
string== 
NewPassword== !
{==" #
get==$ '
;==' (
set==) ,
;==, -
}==. /
[?? 	
Compare??	 
(?? 
$str?? 
,?? 
ErrorMessage??  ,
=??- .
$str??/ G
)??G H
]??H I
public@@ 
string@@ 
ConfirmPassword@@ %
{@@& '
get@@( +
;@@+ ,
set@@- 0
;@@0 1
}@@2 3
}AA 
publicCC 

classCC #
ForgotPasswordViewModelCC (
{DD 
[EE 	
RequiredEE	 
(EE 
ErrorMessageEE 
=EE  
$strEE! <
)EE< =
]EE= >
[FF 	
DataTypeFF	 
(FF 
DataTypeFF 
.FF 
EmailAddressFF '
)FF' (
]FF( )
[GG 	
EmailAddressGG	 
(GG 
ErrorMessageGG "
=GG# $
$strGG% <
)GG< =
]GG= >
[HH 	
StringLengthHH	 
(HH 
$numHH 
,HH 
ErrorMessageHH '
=HH( )
$strHH* ^
,HH^ _
MinimumLengthHH` m
=HHn o
$numHHp q
)HHq r
]HHr s
publicII 
stringII 
EmailIdII 
{II 
getII  #
;II# $
setII% (
;II( )
}II* +
}JJ 
publicLL 

classLL "
ResetPasswordViewModelLL '
{MM 
publicNN 
stringNN 
EmailIdNN 
{NN 
getNN  #
;NN# $
setNN% (
;NN( )
}NN* +
[PP 	
RequiredPP	 
(PP 
ErrorMessagePP 
=PP 
$strPP 5
)PP5 6
]PP6 7
[QQ 	
StringLengthQQ	 
(QQ 
$numQQ 
,QQ 
ErrorMessageQQ '
=QQ( )
$strQQ* ^
,QQ^ _
MinimumLengthQQ` m
=QQn o
$numQQp q
)QQq r
]QQr s
publicRR 
stringRR 
NewPasswordRR !
{RR" #
getRR$ '
;RR' (
setRR) ,
;RR, -
}RR. /
[TT 	
CompareTT	 
(TT 
$strTT 
,TT 
ErrorMessageTT  ,
=TT, -
$strTT- E
)TTE F
]TTF G
publicUU 
stringUU 
ConfirmPasswordUU %
{UU& '
getUU( +
;UU+ ,
setUU- 0
;UU0 1
}UU2 3
}VV 
}WW ç)
YC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Models\CategoryDetail.cs
	namespace 	
OnlineShopping
 
. 
Models 
{		 
public

 

class

 
CategoryDetail

 
{ 
public 
int 

CategoryId 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
( 
ErrorMessage 
=  
$str! <
)< =
]= >
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* j
,j k
MinimumLengthl y
=z {
$num| }
)} ~
]~ 
[ 	
System	 
. 
Web 
. 
Mvc 
. 
Remote 
( 
$str 3
,3 4
$str5 <
,< =
ErrorMessage> J
=K L
$strM e
)e f
]f g
public 
string 
CategoryName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
Nullable 
< 
bool 
> 
IsActive &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Nullable 
< 
bool 
> 
IsDelete &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
public 

class 
ProductDetail 
{ 
public 
int 
	ProductId 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* j
,j k
MinimumLengthl y
=z {
$num| }
)} ~
]~ 
[ 	
System	 
. 
Web 
. 
Mvc 
. 
Remote 
( 
$str 2
,2 3
$str4 ;
,; <
ErrorMessage= I
=J K
$strL c
)c d
]d e
public 
string 
ProductName !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
[ 	
Range	 
( 
$num 
, 
$num 
) 
] 
public 
Nullable 
< 
int 
> 

CategoryId '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
public   
bool   
IsDelete   
{   
get   "
;  " #
set  $ '
;  ' (
}  ) *
public!! 
Nullable!! 
<!! 
System!! 
.!! 
DateTime!! '
>!!' (
CreatedDate!!) 4
{!!5 6
get!!7 :
;!!: ;
set!!< ?
;!!? @
}!!A B
public"" 
Nullable"" 
<"" 
System"" 
."" 
DateTime"" '
>""' (
ModifiedDate"") 5
{""6 7
get""8 ;
;""; <
set""= @
;""@ A
}""B C
[## 	
Required##	 
]## 
public$$ 
string$$ 
Description$$ !
{$$" #
get$$$ '
;$$' (
set$$) ,
;$$, -
}$$. /
public%% 
string%% 
ProductImage%% "
{%%# $
get%%% (
;%%( )
set%%* -
;%%- .
}%%/ 0
[&& 	
Required&&	 
]&& 
['' 	
DataType''	 
('' 
DataType'' 
.'' 
Currency'' #
)''# $
]''$ %
[(( 	
Range((	 
((( 
typeof(( 
((( 
decimal(( 
)(( 
,(( 
$str((  #
,((# $
$str((% -
,((- .
ErrorMessage((/ ;
=((< =
$str((> M
)((M N
]((N O
public)) 
decimal)) 
Price)) 
{)) 
get)) "
;))" #
set))$ '
;))' (
}))) *
public++ 
bool++ 

IsFeatured++ 
{++  
get++! $
;++$ %
set++& )
;++) *
}+++ ,
public-- 

SelectList-- 

Categories-- $
{--% &
get--' *
;--* +
set--, /
;--/ 0
}--1 2
}.. 
}// ∏
SC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Models\Shopping.cs
	namespace 	
OnlineShopping
 
. 
Models 
{		 
public

 

class

 
ShippingDetails

  
{ 
public 
string 
OrderId 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
City 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
] 
public 
string 
State 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
public 
string 
Country 
{ 
get  #
;# $
set% (
;( )
}* +
[ 	
Required	 
] 
public 
string 
ZipCode 
{ 
get  #
;# $
set% (
;( )
}* +
public 
decimal 

TotalPrice !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
public 
string 
PaymentType !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Ü
[C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str )
)) *
]* +
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str +
)+ ,
], -
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *ˇ_
`C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Repository\GenericRepository.cs
	namespace

 	
OnlineShopping


 
.

 

Repository

 #
{ 
public 

class 
GenericRepository "
<" #

Tbl_Entity# -
>- .
:/ 0
IRepository1 <
<< =

Tbl_Entity= G
>G H
whereI N

Tbl_EntityO Y
:Z [
class\ a
{ 
DbSet 
< 

Tbl_Entity 
> 
_dbSet  
;  !
private $
Online_ShoppingEntities1 (
	_DBEntity) 2
;2 3
public 
GenericRepository  
(  !$
Online_ShoppingEntities1! 9
DBEntity: B
)B C
{ 	
	_DBEntity 
= 
DBEntity  
;  !
_dbSet 
= 
	_DBEntity 
. 
Set "
<" #

Tbl_Entity# -
>- .
(. /
)/ 0
;0 1
} 	
public 
IEnumerable 
< 

Tbl_Entity %
>% &
GetAllRecords' 4
(4 5
)5 6
{ 	
return 
_dbSet 
. 
ToList  
(  !
)! "
;" #
} 	
public 

IQueryable 
< 

Tbl_Entity $
>$ %#
GetAllRecordsIQueryable& =
(= >
)> ?
{   	
return!! 
_dbSet!! 
;!! 
}"" 	
public$$ 
IEnumerable$$ 
<$$ 

Tbl_Entity$$ %
>$$% &
GetRecordsToShow$$' 7
($$7 8
int$$8 ;
pageNo$$< B
,$$B C
int$$D G
pageSize$$H P
,$$P Q
int$$R U
currentPageNo$$V c
,$$c d

Expression$$e o
<$$o p
Func$$p t
<$$t u

Tbl_Entity$$u 
,	$$ Ä
bool
$$Å Ö
>
$$Ö Ü
>
$$Ü á
wherePredict
$$à î
,
$$î ï

Expression
$$ñ †
<
$$† °
Func
$$° •
<
$$• ¶

Tbl_Entity
$$¶ ∞
,
$$∞ ±
int
$$≤ µ
>
$$µ ∂
>
$$∂ ∑
orderByPredict
$$∏ ∆
)
$$∆ «
{%% 	
if&& 
(&& 
wherePredict&& 
!=&& 
null&&  $
)&&$ %
return'' 
_dbSet'' 
.'' 
OrderBy'' %
(''% &
orderByPredict''& 4
)''4 5
.''5 6
Where''6 ;
(''; <
wherePredict''< H
)''H I
.''I J
ToList''J P
(''P Q
)''Q R
;''R S
else(( 
return)) 
_dbSet)) 
.)) 
OrderBy)) %
())% &
orderByPredict))& 4
)))4 5
.))5 6
ToList))6 <
())< =
)))= >
;))> ?
}** 	
public,, 
int,, 
GetAllRecordsCount,, %
(,,% &
),,& '
{-- 	
return.. 
_dbSet.. 
... 
Count.. 
(..  
)..  !
;..! "
}// 	
public11 
void11 
Add11 
(11 

Tbl_Entity11 "
entity11# )
)11) *
{22 	
_dbSet33 
.33 
Add33 
(33 
entity33 
)33 
;33 
	_DBEntity44 
.44 
SaveChanges44 !
(44! "
)44" #
;44# $
}55 	
public;; 
void;; 
Update;; 
(;; 

Tbl_Entity;; %
entity;;& ,
);;, -
{<< 	
_dbSet== 
.== 
Attach== 
(== 
entity==  
)==  !
;==! "
	_DBEntity>> 
.>> 
Entry>> 
(>> 
entity>> "
)>>" #
.>># $
State>>$ )
=>>* +
EntityState>>, 7
.>>7 8
Modified>>8 @
;>>@ A
}?? 	
publicAA 
voidAA 
UpdateByWhereClauseAA '
(AA' (

ExpressionAA( 2
<AA2 3
FuncAA3 7
<AA7 8

Tbl_EntityAA8 B
,AAB C
boolAAD H
>AAH I
>AAI J
wherePredictAAK W
,AAW X
ActionAAY _
<AA_ `

Tbl_EntityAA` j
>AAj k
forEachPredictAAl z
)AAz {
{BB 	
_dbSetCC 
.CC 
WhereCC 
(CC 
wherePredictCC %
)CC% &
.CC& '
ToListCC' -
(CC- .
)CC. /
.CC/ 0
ForEachCC0 7
(CC7 8
forEachPredictCC8 F
)CCF G
;CCG H
}DD 	
publicFF 

Tbl_EntityFF 
GetFirstOrDefaultFF +
(FF+ ,
intFF, /
recordIdFF0 8
)FF8 9
{GG 	
returnHH 
_dbSetHH 
.HH 
FindHH 
(HH 
recordIdHH '
)HH' (
;HH( )
}II 	
publicKK 

Tbl_EntityKK (
GetFirstOrDefaultByParameterKK 6
(KK6 7

ExpressionKK7 A
<KKA B
FuncKKB F
<KKF G

Tbl_EntityKKG Q
,KKQ R
boolKKS W
>KKW X
>KKX Y
wherePredictKKZ f
)KKf g
{LL 	
returnMM 
_dbSetMM 
.MM 
WhereMM 
(MM  
wherePredictMM  ,
)MM, -
.MM- .
FirstOrDefaultMM. <
(MM< =
)MM= >
;MM> ?
}NN 	
publicPP 
IEnumerablePP 
<PP 

Tbl_EntityPP %
>PP% &
GetListByParameterPP' 9
(PP9 :

ExpressionPP: D
<PPD E
FuncPPE I
<PPI J

Tbl_EntityPPJ T
,PPT U
boolPPV Z
>PPZ [
>PP[ \
wherePredictPP] i
)PPi j
{QQ 	
returnRR 
_dbSetRR 
.RR 
WhereRR 
(RR  
wherePredictRR  ,
)RR, -
.RR- .
ToListRR. 4
(RR4 5
)RR5 6
;RR6 7
}SS 	
publicUU 
voidUU 
RemoveUU 
(UU 

Tbl_EntityUU %
entityUU& ,
)UU, -
{VV 	
ifWW 
(WW 
	_DBEntityWW 
.WW 
EntryWW 
(WW  
entityWW  &
)WW& '
.WW' (
StateWW( -
==WW. 0
EntityStateWW1 <
.WW< =
DetachedWW= E
)WWE F
_dbSetXX 
.XX 
AttachXX 
(XX 
entityXX $
)XX$ %
;XX% &
_dbSetYY 
.YY 
RemoveYY 
(YY 
entityYY  
)YY  !
;YY! "
}ZZ 	
public\\ 
void\\ 
RemoveByWhereClause\\ '
(\\' (

Expression\\( 2
<\\2 3
Func\\3 7
<\\7 8

Tbl_Entity\\8 B
,\\B C
bool\\D H
>\\H I
>\\I J
wherePredict\\K W
)\\W X
{]] 	

Tbl_Entity^^ 
entity^^ 
=^^ 
_dbSet^^  &
.^^& '
Where^^' ,
(^^, -
wherePredict^^- 9
)^^9 :
.^^: ;
FirstOrDefault^^; I
(^^I J
)^^J K
;^^K L
Remove__ 
(__ 
entity__ 
)__ 
;__ 
}`` 	
publicbb 
voidbb $
RemoveRangeByWhereClausebb ,
(bb, -

Expressionbb- 7
<bb7 8
Funcbb8 <
<bb< =

Tbl_Entitybb= G
,bbG H
boolbbI M
>bbM N
>bbN O
wherePredictbbP \
)bb\ ]
{cc 	
Listdd 
<dd 

Tbl_Entitydd 
>dd 
entitydd #
=dd$ %
_dbSetdd& ,
.dd, -
Wheredd- 2
(dd2 3
wherePredictdd3 ?
)dd? @
.dd@ A
ToListddA G
(ddG H
)ddH I
;ddI J
foreachee 
(ee 
varee 
entee 
inee 
entityee  &
)ee& '
{ff 
Removegg 
(gg 
entgg 
)gg 
;gg 
}hh 
}ii 	
publicjj 
voidjj #
DeleteMarkByWhereClausejj +
(jj+ ,

Expressionjj, 6
<jj6 7
Funcjj7 ;
<jj; <

Tbl_Entityjj< F
,jjF G
booljjH L
>jjL M
>jjM N
wherePredictjjO [
,jj[ \
Actionjj] c
<jjc d

Tbl_Entityjjd n
>jjn o
ForEachPredictjjp ~
)jj~ 
{kk 	
_dbSetll 
.ll 
Wherell 
(ll 
wherePredictll %
)ll% &
.ll& '
ToListll' -
(ll- .
)ll. /
.ll/ 0
ForEachll0 7
(ll7 8
ForEachPredictll8 F
)llF G
;llG H
	_DBEntitymm 
.mm 
SaveChangesmm !
(mm! "
)mm" #
;mm# $
}nn 	
publicpp 
voidpp .
"InactiveAndDeleteMarkByWhereClausepp 6
(pp6 7

Expressionpp7 A
<ppA B
FuncppB F
<ppF G

Tbl_EntityppG Q
,ppQ R
boolppS W
>ppW X
>ppX Y
wherePredictppZ f
,ppf g
Actionpph n
<ppn o

Tbl_Entityppo y
>ppy z
ForEachPredict	pp{ â
)
ppâ ä
{qq 	
_dbSetrr 
.rr 
Whererr 
(rr 
wherePredictrr %
)rr% &
.rr& '
ToListrr' -
(rr- .
)rr. /
.rr/ 0
ForEachrr0 7
(rr7 8
ForEachPredictrr8 F
)rrF G
;rrG H
	_DBEntityss 
.ss 
SaveChangesss !
(ss! "
)ss" #
;ss# $
}tt 	
public{{ 

IQueryable{{ 
<{{ 

Tbl_Entity{{ $
>{{$ %
OrderByDescending{{& 7
({{7 8

Expression{{8 B
<{{B C
Func{{C G
<{{G H

Tbl_Entity{{H R
,{{R S
int{{T W
>{{W X
>{{X Y
orderByPredict{{Z h
){{h i
{|| 	
if}} 
(}} 
orderByPredict}} 
==}} !
null}}" &
)}}& '
{~~ 
return 
_dbSet 
; 
}
ÄÄ 
return
ÅÅ 
_dbSet
ÅÅ 
.
ÅÅ 
OrderByDescending
ÅÅ +
(
ÅÅ+ ,
orderByPredict
ÅÅ, :
)
ÅÅ: ;
;
ÅÅ; <
}
ÇÇ 	
public
ää 
IEnumerable
ää 
<
ää 

Tbl_Entity
ää %
>
ää% &%
GetResultBySqlProcedure
ää' >
(
ää> ?
string
ää? E
query
ääF K
,
ääK L
params
ääM S
object
ääT Z
[
ääZ [
]
ää[ \

parameters
ää] g
)
ääg h
{
ãã 	
if
åå 
(
åå 

parameters
åå 
!=
åå 
null
åå "
)
åå" #
return
çç 
	_DBEntity
çç  
.
çç  !
Database
çç! )
.
çç) *
SqlQuery
çç* 2
<
çç2 3

Tbl_Entity
çç3 =
>
çç= >
(
çç> ?
query
çç? D
,
ççD E

parameters
ççF P
)
ççP Q
.
ççQ R
ToList
ççR X
(
ççX Y
)
ççY Z
;
ççZ [
else
éé 
return
èè 
	_DBEntity
èè  
.
èè  !
Database
èè! )
.
èè) *
SqlQuery
èè* 2
<
èè2 3

Tbl_Entity
èè3 =
>
èè= >
(
èè> ?
query
èè? D
)
èèD E
.
èèE F
ToList
èèF L
(
èèL M
)
èèM N
;
èèN O
}
êê 	
}
ëë 
}íí Ã
`C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Repository\GenericUnitOfWork.cs
	namespace 	
OnlineShopping
 
. 

Repository #
{ 
public

 

class

 
GenericUnitOfWork

 "
:

# $
IDisposable

% 0
{ 
private $
Online_ShoppingEntities1 (
DBEntity) 1
=2 3
new4 7$
Online_ShoppingEntities18 P
(P Q
)Q R
;R S
public 
IRepository 
< 
Tbl_EntityType )
>) *!
GetRepositoryInstance+ @
<@ A
Tbl_EntityTypeA O
>O P
(P Q
)Q R
whereS X
Tbl_EntityTypeY g
:h i
classj o
{ 	
return 
new 
GenericRepository (
<( )
Tbl_EntityType) 7
>7 8
(8 9
DBEntity9 A
)A B
;B C
} 	
public 
void 
SaveChanges 
(  
)  !
{ 	
DBEntity 
. 
SaveChanges  
(  !
)! "
;" #
} 	
private 
bool 
disposed 
= 
false  %
;% &
	protected 
virtual 
void 
Dispose &
(& '
bool' +
	disposing, 5
)5 6
{ 	
if 
( 
! 
this 
. 
disposed 
) 
{ 
if 
( 
	disposing 
) 
{   
DBEntity!! 
.!! 
Dispose!! $
(!!$ %
)!!% &
;!!& '
}"" 
}## 
this$$ 
.$$ 
disposed$$ 
=$$ 
true$$  
;$$  !
}%% 	
public'' 
void'' 
Dispose'' 
('' 
)'' 
{(( 	
Dispose)) 
()) 
true)) 
))) 
;)) 
GC** 
.** 
SuppressFinalize** 
(**  
this**  $
)**$ %
;**% &
}++ 	
}-- 
}.. ƒ"
ZC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Repository\IRepository.cs
	namespace 	
OnlineShopping
 
. 

Repository #
{ 
public		 

	interface		 
IRepository		  
<		  !

Tbl_Entity		! +
>		+ ,
where		- 2

Tbl_Entity		3 =
:		> ?
class		@ E
{

 
IEnumerable 
< 

Tbl_Entity 
> 
GetAllRecords  -
(- .
). /
;/ 0

IQueryable 
< 

Tbl_Entity 
> #
GetAllRecordsIQueryable 6
(6 7
)7 8
;8 9
IEnumerable 
< 

Tbl_Entity 
> 
GetRecordsToShow  0
(0 1
int1 4
pageNo5 ;
,; <
int= @
pageSizeA I
,I J
intK N
currentPageNoO \
,\ ]

Expression^ h
<h i
Funci m
<m n

Tbl_Entityn x
,x y
boolz ~
>~ 
>	 Ä
wherePredict
Å ç
,
ç é

Expression
è ô
<
ô ö
Func
ö û
<
û ü

Tbl_Entity
ü ©
,
© ™
int
´ Æ
>
Æ Ø
>
Ø ∞
orderByPredict
± ø
)
ø ¿
;
¿ ¡
int 
GetAllRecordsCount 
( 
)  
;  !
void 
Add 
( 

Tbl_Entity 
entity "
)" #
;# $
void 
Update 
( 

Tbl_Entity 
entity %
)% &
;& '
void 
UpdateByWhereClause  
(  !

Expression! +
<+ ,
Func, 0
<0 1

Tbl_Entity1 ;
,; <
bool= A
>A B
>B C
wherePredictD P
,P Q
ActionR X
<X Y

Tbl_EntityY c
>c d
ForEachPredicte s
)s t
;t u

Tbl_Entity 
GetFirstOrDefault $
($ %
int% (
recordId) 1
)1 2
;2 3
void 
Remove 
( 

Tbl_Entity 
entity %
)% &
;& '
void 
RemoveByWhereClause  
(  !

Expression! +
<+ ,
Func, 0
<0 1

Tbl_Entity1 ;
,; <
bool= A
>A B
>B C
wherePredictD P
)P Q
;Q R
void $
RemoveRangeByWhereClause %
(% &

Expression& 0
<0 1
Func1 5
<5 6

Tbl_Entity6 @
,@ A
boolB F
>F G
>G H
wherePredictI U
)U V
;V W
void .
"InactiveAndDeleteMarkByWhereClause /
(/ 0

Expression0 :
<: ;
Func; ?
<? @

Tbl_Entity@ J
,J K
boolL P
>P Q
>Q R
wherePredictS _
,_ `
Actiona g
<g h

Tbl_Entityh r
>r s
ForEachPredict	t Ç
)
Ç É
;
É Ñ

Tbl_Entity (
GetFirstOrDefaultByParameter /
(/ 0

Expression0 :
<: ;
Func; ?
<? @

Tbl_Entity@ J
,J K
boolL P
>P Q
>Q R
wherePredictS _
)_ `
;` a
IEnumerable 
< 

Tbl_Entity 
> 
GetListByParameter  2
(2 3

Expression3 =
<= >
Func> B
<B C

Tbl_EntityC M
,M N
boolO S
>S T
>T U
wherePredictV b
)b c
;c d
IEnumerable 
< 

Tbl_Entity 
> #
GetResultBySqlProcedure  7
(7 8
string8 >
query? D
,D E
paramsF L
objectM S
[S T
]T U

parametersV `
)` a
;a b
} 
} ñ
]C:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Utility\EmailNotification.cs
	namespace 	
OnlineShopping
 
. 
Utility  
{		 
public

 

class

 
EmailNotification

 "
{ 
public 
static 
void 
SendMail #
(# $
string$ *
recipientAddress+ ;
,; <
string= C
emailSubjectD P
,P Q
stringR X
	emailBodyY b
)b c
{ 	
	emailBody 
= 
	emailBody !
.! "
Replace" )
() *
$str* 9
,9 :
System; A
.A B
ConfigurationB O
.O P 
ConfigurationManagerP d
.d e
AppSettingse p
[p q
$str	q Ö
]
Ö Ü
)
Ü á
;
á à
var 
EmailRecipientList "
=# $
recipientAddress% 5
.5 6
Split6 ;
(; <
$char< ?
)? @
;@ A

SmtpClient 
smtp 
= 
new !

SmtpClient" ,
(, -
)- .
;. /
MailMessage 
mail 
= 
new "
MailMessage# .
(. /
)/ 0
;0 1
mail 
. 
Body 
= 
	emailBody !
;! "
mail 
. 
Subject 
= 
emailSubject '
;' (
foreach 
( 
var 
user 
in  
EmailRecipientList! 3
)3 4
mail 
. 
To 
. 
Add 
( 
new 
MailAddress  +
(+ ,
user, 0
.0 1
ToString1 9
(9 :
): ;
); <
)< =
;= >
mail 
. 

IsBodyHtml 
= 
true "
;" #
smtp 
. 
Send 
( 
mail 
) 
; 
} 	
} 
} •<
ZC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Utility\EncryptDecrypt.cs
	namespace		 	
OnlineShopping		
 
.		 
Utility		  
{

 
public 

class 
EncryptDecrypt 
{ 
public 
static 
string 
Encrypt $
($ %
string% +
	toEncrypt, 5
,5 6
bool7 ;

useHashing< F
)F G
{ 	
byte 
[ 
] 
keyArray 
; 
byte 
[ 
] 
toEncryptArray !
=" #
UTF8Encoding$ 0
.0 1
UTF81 5
.5 6
GetBytes6 >
(> ?
	toEncrypt? H
)H I
;I J
System 
. 
Configuration  
.  !
AppSettingsReader! 2
settingsReader3 A
=B C
new0 3
AppSettingsReader4 E
(E F
)F G
;G H
string 
key 
= 
( 
string  
)  !
settingsReader! /
./ 0
GetValue0 8
(8 9
$str9 P
,P Q
typeofR X
(X Y
StringY _
)_ `
)` a
;a b
if 
( 

useHashing 
) 
{ $
MD5CryptoServiceProvider (
hashmd5) 0
=1 2
new3 6$
MD5CryptoServiceProvider7 O
(O P
)P Q
;Q R
keyArray 
= 
hashmd5 "
." #
ComputeHash# .
(. /
UTF8Encoding/ ;
.; <
UTF8< @
.@ A
GetBytesA I
(I J
keyJ M
)M N
)N O
;O P
hashmd5   
.   
Clear   
(   
)   
;    
}!! 
else"" 
keyArray## 
=## 
UTF8Encoding## '
.##' (
UTF8##( ,
.##, -
GetBytes##- 5
(##5 6
key##6 9
)##9 :
;##: ;*
TripleDESCryptoServiceProvider%% *
tdes%%+ /
=%%0 1
new%%2 5*
TripleDESCryptoServiceProvider%%6 T
(%%T U
)%%U V
;%%V W
tdes'' 
.'' 
Key'' 
='' 
keyArray'' 
;''  
tdes** 
.** 
Mode** 
=** 

CipherMode** "
.**" #
ECB**# &
;**& '
tdes-- 
.-- 
Padding-- 
=-- 
PaddingMode-- &
.--& '
PKCS7--' ,
;--, -
ICryptoTransform// 

cTransform// '
=//( )
tdes//* .
.//. /
CreateEncryptor/// >
(//> ?
)//? @
;//@ A
byte11 
[11 
]11 
resultArray11 
=11  

cTransform22 
.22 
TransformFinalBlock22 ,
(22, -
toEncryptArray22- ;
,22; <
$num22= >
,22> ?
toEncryptArray33 
.33 
Length33 #
)33# $
;33$ %
tdes55 
.55 
Clear55 
(55 
)55 
;55 
var77 
strTiEncript77 
=77 
Convert77 &
.77& '
ToBase64String77' 5
(775 6
resultArray776 A
,77A B
$num77C D
,77D E
resultArray77F Q
.77Q R
Length77R X
)77X Y
.77Y Z
Replace77Z a
(77a b
$str77b e
,77e f
$str77g l
)77l m
.77m n
Replace77n u
(77u v
$str77v y
,77y z
$str	77{ Ä
)
77Ä Å
;
77Å Ç
return88 
strTiEncript88 
;88  
}99 	
public;; 
static;; 
string;; 
Decrypt;; $
(;;$ %
string;;% +
cipherString;;, 8
,;;8 9
bool;;: >

useHashing;;? I
);;I J
{<< 	
byte== 
[== 
]== 
keyArray== 
;== 
byte@@ 
[@@ 
]@@ 
toEncryptArray@@ !
=@@" #
Convert@@$ +
.@@+ ,
FromBase64String@@, <
(@@< =
cipherString@@= I
.@@I J
Replace@@J Q
(@@Q R
$str@@R W
,@@W X
$str@@Y \
)@@\ ]
.@@] ^
Replace@@^ e
(@@e f
$str@@f k
,@@k l
$str@@m p
)@@p q
)@@q r
;@@r s
SystemBB 
.BB 
ConfigurationBB  
.BB  !
AppSettingsReaderBB! 2
settingsReaderBB3 A
=BBB C
newCC0 3
AppSettingsReaderCC4 E
(CCE F
)CCF G
;CCG H
stringEE 
keyEE 
=EE 
(EE 
stringEE  
)EE  !
settingsReaderEE! /
.EE/ 0
GetValueEE0 8
(EE8 9
$strEE9 F
,EEF G
typeofFF9 ?
(FF? @
StringFF@ F
)FFF G
)FFG H
;FFH I
ifHH 
(HH 

useHashingHH 
)HH 
{II $
MD5CryptoServiceProviderKK (
hashmd5KK) 0
=KK1 2
newKK3 6$
MD5CryptoServiceProviderKK7 O
(KKO P
)KKP Q
;KKQ R
keyArrayLL 
=LL 
hashmd5LL "
.LL" #
ComputeHashLL# .
(LL. /
UTF8EncodingLL/ ;
.LL; <
UTF8LL< @
.LL@ A
GetBytesLLA I
(LLI J
keyLLJ M
)LLM N
)LLN O
;LLO P
hashmd5OO 
.OO 
ClearOO 
(OO 
)OO 
;OO  
}PP 
elseQQ 
{RR 
keyArrayTT 
=TT 
UTF8EncodingTT '
.TT' (
UTF8TT( ,
.TT, -
GetBytesTT- 5
(TT5 6
keyTT6 9
)TT9 :
;TT: ;
}UU *
TripleDESCryptoServiceProviderWW *
tdesWW+ /
=WW0 1
newWW2 5*
TripleDESCryptoServiceProviderWW6 T
(WWT U
)WWU V
;WWV W
tdesYY 
.YY 
KeyYY 
=YY 
keyArrayYY 
;YY  
tdes]] 
.]] 
Mode]] 
=]] 

CipherMode]] "
.]]" #
ECB]]# &
;]]& '
tdes__ 
.__ 
Padding__ 
=__ 
PaddingMode__ &
.__& '
PKCS7__' ,
;__, -
ICryptoTransformaa 

cTransformaa '
=aa( )
tdesaa* .
.aa. /
CreateDecryptoraa/ >
(aa> ?
)aa? @
;aa@ A
bytebb 
[bb 
]bb 
resultArraybb 
=bb  

cTransformbb! +
.bb+ ,
TransformFinalBlockbb, ?
(bb? @
toEncryptArraycc! /
,cc/ 0
$numcc1 2
,cc2 3
toEncryptArraycc4 B
.ccB C
LengthccC I
)ccI J
;ccJ K
tdesee 
.ee 
Clearee 
(ee 
)ee 
;ee 
returngg 
UTF8Encodinggg 
.gg  
UTF8gg  $
.gg$ %
	GetStringgg% .
(gg. /
resultArraygg/ :
)gg: ;
;gg; <
}hh 	
}ii 
}jj Çµ
YC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\Utility\UploadContent.cs
	namespace 	
OnlineShopping
 
. 
Utility  
{ 
public 

class 
UploadContent 
{ 
public 
void 
UploadImage 
(  
HttpPostedFileBase  2
originalImage3 @
,@ A
stringB H
imagePrefixI T
,T U
stringV \
rootPath] e
,e f!
HttpServerUtilityBaseg |
server	} É
,
É Ñ
GenericUnitOfWork
Ö ñ
_unitOfWork
ó ¢
,
¢ £
int
§ ß
memberId
® ∞
,
∞ ±
int
≤ µ
	productId
∂ ø
=
¿ ¡
$num
¬ √
,
√ ƒ
int
≈ »

categoryId
… ”
=
‘ ’
$num
÷ ◊
)
◊ ÿ
{ 	
bool 
existsOriginal 
=  !
System" (
.( )
IO) +
.+ ,
	Directory, 5
.5 6
Exists6 <
(< =
server= C
.C D
MapPathD K
(K L
$strL P
+Q R
rootPathS [
+\ ]
$str^ i
)i j
)j k
;k l
if 
( 
! 
existsOriginal 
)  
System   
.   
IO   
.   
	Directory   #
.  # $
CreateDirectory  $ 3
(  3 4
server  4 :
.  : ;
MapPath  ; B
(  B C
$str  C G
+  H I
rootPath  J R
+  S T
$str  U `
)  ` a
)  a b
;  b c
originalImage!! 
.!! 
SaveAs!!  
(!!  !
server!!! '
.!!' (
MapPath!!( /
(!!/ 0
$str!!0 4
+!!5 6
rootPath!!7 ?
+!!@ A
$str!!B M
+!!N O
imagePrefix!!P [
+!!\ ]
originalImage!!^ k
.!!k l
FileName!!l t
)!!t u
)!!u v
;!!v w
if$$ 
($$ 
	productId$$ 
!=$$ 
$num$$ 
)$$ 
{%% 
WebImage&& 
img1&& 
=&& 
new&&  #
WebImage&&$ ,
(&&, -
server&&- 3
.&&3 4
MapPath&&4 ;
(&&; <
$str&&< @
+&&A B
rootPath&&C K
+&&L M
$str&&N Y
+&&Z [
imagePrefix&&\ g
+&&h i
originalImage&&j w
.&&w x
FileName	&&x Ä
)
&&Ä Å
)
&&Å Ç
;
&&Ç É
img1'' 
.'' 
Resize'' 
('' 
$num'' 
,''  
$num''! $
)''$ %
;''% &
bool(( 
exists(( 
=(( 
System(( $
.(($ %
IO((% '
.((' (
	Directory((( 1
.((1 2
Exists((2 8
(((8 9
server((9 ?
.((? @
MapPath((@ G
(((G H
$str((H L
+((M N
rootPath((O W
+((X Y
$str((Z b
)((b c
)((c d
;((d e
if)) 
()) 
!)) 
exists)) 
))) 
System** 
.** 
IO** 
.** 
	Directory** '
.**' (
CreateDirectory**( 7
(**7 8
server**8 >
.**> ?
MapPath**? F
(**F G
$str**G K
+**L M
rootPath**N V
+**W X
$str**Y a
)**a b
)**b c
;**c d
img1++ 
.++ 
Save++ 
(++ 
Path++ 
.++ 
Combine++ &
(++& '
server++' -
.++- .
MapPath++. 5
(++5 6
$str++6 :
+++; <
rootPath++= E
+++F G
$str++H P
+++Q R
imagePrefix++S ^
+++_ `
originalImage++a n
.++n o
FileName++o w
)++w x
)++x y
)++y z
;++z {
},, 
WebImage.. 
img2.. 
=.. 
new.. 
WebImage..  (
(..( )
server..) /
.../ 0
MapPath..0 7
(..7 8
$str..8 <
+..= >
rootPath..? G
+..H I
$str..J U
+..V W
imagePrefix..X c
+..d e
originalImage..f s
...s t
FileName..t |
)..| }
)..} ~
;..~ 
img2// 
.// 
Resize// 
(// 
$num// 
,// 
$num//  
)//  !
;//! "
bool00 
exists200 
=00 
System00 !
.00! "
IO00" $
.00$ %
	Directory00% .
.00. /
Exists00/ 5
(005 6
server006 <
.00< =
MapPath00= D
(00D E
$str00E I
+00J K
rootPath00L T
+00U V
$str00W `
)00` a
)00a b
;00b c
if11 
(11 
!11 
exists211 
)11 
System22 
.22 
IO22 
.22 
	Directory22 #
.22# $
CreateDirectory22$ 3
(223 4
server224 :
.22: ;
MapPath22; B
(22B C
$str22C G
+22H I
rootPath22J R
+22S T
$str22U ^
)22^ _
)22_ `
;22` a
img233 
.33 
Save33 
(33 
Path33 
.33 
Combine33 "
(33" #
server33# )
.33) *
MapPath33* 1
(331 2
$str332 6
+337 8
rootPath339 A
+33B C
$str33D M
+33N O
imagePrefix33P [
+33\ ]
originalImage33^ k
.33k l
FileName33l t
)33t u
)33u v
)33v w
;33w x
WebImage55 
img355 
=55 
new55 
WebImage55  (
(55( )
server55) /
.55/ 0
MapPath550 7
(557 8
$str558 <
+55= >
rootPath55? G
+55H I
$str55J U
+55V W
imagePrefix55X c
+55d e
originalImage55f s
.55s t
FileName55t |
)55| }
)55} ~
;55~ 
img366 
.66 
Resize66 
(66 
$num66 
,66 
$num66 
)66 
;66  
bool77 
exists377 
=77 
System77 !
.77! "
IO77" $
.77$ %
	Directory77% .
.77. /
Exists77/ 5
(775 6
server776 <
.77< =
MapPath77= D
(77D E
$str77E I
+77J K
rootPath77L T
+77U V
$str77W _
)77_ `
)77` a
;77a b
if88 
(88 
!88 
exists388 
)88 
System99 
.99 
IO99 
.99 
	Directory99 #
.99# $
CreateDirectory99$ 3
(993 4
server994 :
.99: ;
MapPath99; B
(99B C
$str99C G
+99H I
rootPath99J R
+99S T
$str99U ]
)99] ^
)99^ _
;99_ `
img3:: 
.:: 
Save:: 
(:: 
Path:: 
.:: 
Combine:: "
(::" #
server::# )
.::) *
MapPath::* 1
(::1 2
$str::2 6
+::7 8
rootPath::9 A
+::B C
$str::D L
+::M N
imagePrefix::O Z
+::[ \
originalImage::] j
.::j k
FileName::k s
)::s t
)::t u
)::u v
;::v w
System<< 
.<< 
IO<< 
.<< 
File<< 
.<< 
Delete<< !
(<<! "
server<<" (
.<<( )
MapPath<<) 0
(<<0 1
$str<<1 5
+<<6 7
rootPath<<8 @
+<<A B
$str<<C N
+<<O P
imagePrefix<<Q \
+<<] ^
originalImage<<_ l
.<<l m
FileName<<m u
)<<u v
)<<v w
;<<w x
}== 	
public?? 
void?? !
UploadStaticPageImage?? )
(??) *
HttpPostedFileBase??* <
originalImage??= J
,??J K
string??L R
rootPath??S [
,??[ \
string??] c
imagePrefix??d o
,??o p"
HttpServerUtilityBase	??q Ü
server
??á ç
)
??ç é
{@@ 	
originalImageAA 
.AA 
SaveAsAA  
(AA  !
serverAA! '
.AA' (
MapPathAA( /
(AA/ 0
$strAA0 4
+AA5 6
rootPathAA7 ?
+AA@ A
imagePrefixAAB M
+AAN O
originalImageAAP ]
.AA] ^
FileNameAA^ f
)AAf g
)AAg h
;AAh i
}BB 	
publicLL 
stringLL 
UploadImage1LL "
(LL" #
HttpPostedFileBaseLL# 5
imageLL6 ;
,LL; <
stringLL= C
imageSubPathLLD P
,LLP Q!
HttpServerUtilityBaseLLR g
serverLLh n
,LLn o
GenericUnitOfWork	LLp Å
_unitOfWork
LLÇ ç
,
LLç é
int
LLè í
memberId
LLì õ
=
LLú ù
$num
LLû ü
)
LLü †
{MM 	
stringNN 
ImgPathNN 
=NN 
imageSubPathNN )
+NN* +
memberIdNN, 4
+NN5 6
$strNN7 :
+NN; <
imageNN= B
.NNB C
FileNameNNC K
;NNK L
varOO 
imgnewOO 
=OO 
serverOO 
.OO  
MapPathOO  '
(OO' (
ImgPathOO( /
)OO/ 0
;OO0 1
boolPP 
existsPP 
=PP 
SystemPP  
.PP  !
IOPP! #
.PP# $
	DirectoryPP$ -
.PP- .
ExistsPP. 4
(PP4 5
serverPP5 ;
.PP; <
MapPathPP< C
(PPC D
imageSubPathPPD P
)PPP Q
)PPQ R
;PPR S
ifQQ 
(QQ 
!QQ 
existsQQ 
)QQ 
SystemRR 
.RR 
IORR 
.RR 
	DirectoryRR #
.RR# $
CreateDirectoryRR$ 3
(RR3 4
serverRR4 :
.RR: ;
MapPathRR; B
(RRB C
imageSubPathRRC O
)RRO P
)RRP Q
;RRQ R4
(ResizeAndUploadImageByHttpPostedFileBaseTT 4
(TT4 5
imageTT5 :
,TT: ;
(TT< =
imageSubPathTT= I
+TTJ K
$strTTL U
)TTU V
,TTV W
newTTX [
SizeTT\ `
(TT` a
$numTTa d
,TTd e
$numTTf i
)TTi j
,TTj k
memberIdTTl t
+TTu v
$strTTw z
,TTz {
image	TT| Å
.
TTÅ Ç
FileName
TTÇ ä
,
TTä ã
server
TTå í
)
TTí ì
;
TTì î4
(ResizeAndUploadImageByHttpPostedFileBaseUU 4
(UU4 5
imageUU5 :
,UU: ;
(UU< =
imageSubPathUU= I
+UUJ K
$strUUL V
)UUV W
,UUW X
newUUY \
SizeUU] a
(UUa b
$numUUb e
,UUe f
$numUUg j
)UUj k
,UUk l
memberIdUUm u
+UUv w
$strUUx {
,UU{ |
image	UU} Ç
.
UUÇ É
FileName
UUÉ ã
,
UUã å
server
UUç ì
)
UUì î
;
UUî ï
returnVV 
ImgPathVV 
;VV 
}WW 	
public[[ 
static[[ 
bool[[ 4
(ResizeAndUploadImageByHttpPostedFileBase[[ C
([[C D
HttpPostedFileBase[[D V
originalImage[[W d
,[[d e
string[[f l

targetPath[[m w
,[[w x
Size[[y }
size	[[~ Ç
,
[[Ç É
string
[[Ñ ä
	imgPrefix
[[ã î
,
[[î ï
string
[[ñ ú
outputImageName
[[ù ¨
,
[[¨ ≠#
HttpServerUtilityBase
[[Æ √
server
[[ƒ  
)
[[  À
{\\ 	
bool]] 
success]] 
=]] 
false]]  
;]]  !
try^^ 
{__ 
bool`` 
exists`` 
=`` 
System`` $
.``$ %
IO``% '
.``' (
	Directory``( 1
.``1 2
Exists``2 8
(``8 9
server``9 ?
.``? @
MapPath``@ G
(``G H

targetPath``H R
)``R S
)``S T
;``T U
ifaa 
(aa 
!aa 
existsaa 
)aa 
Systembb 
.bb 
IObb 
.bb 
	Directorybb '
.bb' (
CreateDirectorybb( 7
(bb7 8
serverbb8 >
.bb> ?
MapPathbb? F
(bbF G

targetPathbbG Q
)bbQ R
)bbR S
;bbS T
WebImagedd 
imgdd 
=dd 
newdd "
WebImagedd# +
(dd+ ,
originalImagedd, 9
.dd9 :
InputStreamdd: E
)ddE F
;ddF G
ifee 
(ee 
imgee 
.ee 
Widthee 
>ee 
sizeee  $
.ee$ %
Widthee% *
)ee* +
imgff 
.ff 
Resizeff 
(ff 
sizeff #
.ff# $
Widthff$ )
,ff) *
sizeff+ /
.ff/ 0
Heightff0 6
)ff6 7
;ff7 8
imggg 
.gg 
Savegg 
(gg 
Pathgg 
.gg 
Combinegg %
(gg% &

targetPathgg& 0
,gg0 1
	imgPrefixgg2 ;
+gg< =
outputImageNamegg> M
)ggM N
)ggN O
;ggO P
successpp 
=pp 
truepp 
;pp 
}qq 
catchrr 
(rr 
	Exceptionrr 
exrr 
)rr  
{ss 
}uu 
returnvv 
successvv 
;vv 
}ww 	
publicyy 
staticyy 
boolyy  
ResizeAndUploadImageyy /
(yy/ 0
stringyy0 6
originalImageyy7 D
,yyD E
stringyyF L

targetPathyyM W
,yyW X
SizeyyY ]
sizeyy^ b
,yyb c
stringyyd j
outputImageNameyyk z
)yyz {
{zz 	
bool{{ 
success{{ 
={{ 
false{{  
;{{  !
try|| 
{}} 
System~~ 
.~~ 
Drawing~~ 
.~~ 
Image~~ $
img_Original~~% 1
=~~2 3
System~~4 :
.~~: ;
Drawing~~; B
.~~B C
Image~~C H
.~~H I
FromFile~~I Q
(~~Q R
originalImage~~R _
)~~_ `
;~~` a
Image 
image 
= 
ResizeImage )
() *
img_Original* 6
,6 7
size8 <
)< =
;= >
image
ÄÄ 
.
ÄÄ 
Save
ÄÄ 
(
ÄÄ 
Path
ÄÄ 
.
ÄÄ  
Combine
ÄÄ  '
(
ÄÄ' (

targetPath
ÄÄ( 2
,
ÄÄ2 3
outputImageName
ÄÄ4 C
)
ÄÄC D
)
ÄÄD E
;
ÄÄE F
image
ÅÅ 
.
ÅÅ 
Dispose
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ  
success
ÇÇ 
=
ÇÇ 
true
ÇÇ 
;
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 
}
áá 
return
àà 
success
àà 
;
àà 
}
ââ 	
private
ää 
static
ää 
Image
ää 
ResizeImage
ää (
(
ää( )
Image
ää) .
imgPhoto
ää/ 7
,
ää7 8
Size
ää9 =
size
ää> B
)
ääB C
{
ãã 	
int
åå 
sourceWidth
åå 
=
åå 
imgPhoto
åå &
.
åå& '
Width
åå' ,
;
åå, -
int
çç 
sourceHeight
çç 
=
çç 
imgPhoto
çç '
.
çç' (
Height
çç( .
;
çç. /
int
éé 
sourceX
éé 
=
éé 
$num
éé 
;
éé 
int
èè 
sourceY
èè 
=
èè 
$num
èè 
;
èè 
int
êê 
destX
êê 
=
êê 
$num
êê 
;
êê 
int
ëë 
destY
ëë 
=
ëë 
$num
ëë 
;
ëë 
float
ìì 
nPercent
ìì 
=
ìì 
$num
ìì 
;
ìì 
float
îî 
	nPercentW
îî 
=
îî 
$num
îî 
;
îî  
float
ïï 
	nPercentH
ïï 
=
ïï 
$num
ïï 
;
ïï  
int
ññ 
Height
ññ 
=
ññ 
size
ññ 
.
ññ 
Height
ññ $
;
ññ$ %
int
óó 
Width
óó 
=
óó 
size
óó 
.
óó 
Width
óó "
;
óó" #
	nPercentW
ôô 
=
ôô 
(
ôô 
(
ôô 
float
ôô 
)
ôô  
Width
ôô  %
/
ôô& '
(
ôô( )
float
ôô) .
)
ôô. /
sourceWidth
ôô/ :
)
ôô: ;
;
ôô; <
	nPercentH
öö 
=
öö 
(
öö 
(
öö 
float
öö 
)
öö  
Height
öö  &
/
öö' (
(
öö) *
float
öö* /
)
öö/ 0
sourceHeight
öö0 <
)
öö< =
;
öö= >
if
õõ 
(
õõ 
	nPercentH
õõ 
<
õõ 
	nPercentW
õõ %
)
õõ% &
{
úú 
nPercent
ùù 
=
ùù 
	nPercentH
ùù $
;
ùù$ %
destX
ûû 
=
ûû 
System
ûû 
.
ûû 
Convert
ûû &
.
ûû& '
ToInt16
ûû' .
(
ûû. /
(
ûû/ 0
Width
ûû0 5
-
ûû6 7
(
üü 
sourceWidth
üü *
*
üü+ ,
nPercent
üü- 5
)
üü5 6
)
üü6 7
/
üü8 9
$num
üü: ;
)
üü; <
;
üü< =
}
†† 
else
°° 
{
¢¢ 
nPercent
££ 
=
££ 
	nPercentW
££ $
;
££$ %
destY
§§ 
=
§§ 
System
§§ 
.
§§ 
Convert
§§ &
.
§§& '
ToInt16
§§' .
(
§§. /
(
§§/ 0
Height
§§0 6
-
§§7 8
(
•• 
sourceHeight
•• +
*
••, -
nPercent
••. 6
)
••6 7
)
••7 8
/
••9 :
$num
••; <
)
••< =
;
••= >
}
¶¶ 
int
®® 
	destWidth
®® 
=
®® 
(
®® 
int
®®  
)
®®  !
(
®®! "
sourceWidth
®®" -
*
®®. /
nPercent
®®0 8
)
®®8 9
;
®®9 :
int
©© 

destHeight
©© 
=
©© 
(
©© 
int
©© !
)
©©! "
(
©©" #
sourceHeight
©©# /
*
©©0 1
nPercent
©©2 :
)
©©: ;
;
©©; <
Bitmap
´´ 
bmPhoto
´´ 
=
´´ 
new
´´  
Bitmap
´´! '
(
´´' (
Width
´´( -
,
´´- .
Height
´´/ 5
,
´´5 6
PixelFormat
´´7 B
.
´´B C
Format24bppRgb
´´C Q
)
´´Q R
;
´´R S
bmPhoto
¨¨ 
.
¨¨ 
SetResolution
¨¨ !
(
¨¨! "
imgPhoto
¨¨" *
.
¨¨* +"
HorizontalResolution
¨¨+ ?
,
¨¨? @
imgPhoto
¨¨A I
.
¨¨I J 
VerticalResolution
¨¨J \
)
¨¨\ ]
;
¨¨] ^
Graphics
ÆÆ 
grPhoto
ÆÆ 
=
ÆÆ 
Graphics
ÆÆ '
.
ÆÆ' (
	FromImage
ÆÆ( 1
(
ÆÆ1 2
bmPhoto
ÆÆ2 9
)
ÆÆ9 :
;
ÆÆ: ;
grPhoto
ØØ 
.
ØØ 
Clear
ØØ 
(
ØØ 
Color
ØØ 
.
ØØ  
White
ØØ  %
)
ØØ% &
;
ØØ& '
grPhoto
∞∞ 
.
∞∞ 
InterpolationMode
∞∞ %
=
∞∞& '
InterpolationMode
∞∞( 9
.
∞∞9 : 
HighQualityBicubic
∞∞: L
;
∞∞L M
grPhoto
≤≤ 
.
≤≤ 
	DrawImage
≤≤ 
(
≤≤ 
imgPhoto
≤≤ &
,
≤≤& '
new
≥≥ 
	Rectangle
≥≥ 
(
≥≥ 
destX
≥≥ #
,
≥≥# $
destY
≥≥% *
,
≥≥* +
	destWidth
≥≥, 5
,
≥≥5 6

destHeight
≥≥7 A
)
≥≥A B
,
≥≥B C
new
¥¥ 
	Rectangle
¥¥ 
(
¥¥ 
sourceX
¥¥ %
,
¥¥% &
sourceY
¥¥' .
,
¥¥. /
sourceWidth
¥¥0 ;
,
¥¥; <
sourceHeight
¥¥= I
)
¥¥I J
,
¥¥J K
GraphicsUnit
µµ 
.
µµ 
Pixel
µµ "
)
µµ" #
;
µµ# $
grPhoto
∂∂ 
.
∂∂ 
Dispose
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
return
∑∑ 
bmPhoto
∑∑ 
;
∑∑ 
}
∏∏ 	
public
∫∫ 
static
∫∫ 
Image
∫∫ 
Base64ToImage
∫∫ )
(
∫∫) *
string
∫∫* 0
base64String
∫∫1 =
)
∫∫= >
{
ªª 	
byte
ΩΩ 
[
ΩΩ 
]
ΩΩ 

imageBytes
ΩΩ 
=
ΩΩ 
Convert
ΩΩ  '
.
ΩΩ' (
FromBase64String
ΩΩ( 8
(
ΩΩ8 9
base64String
ΩΩ9 E
)
ΩΩE F
;
ΩΩF G
using
øø 
(
øø 
var
øø 
ms
øø 
=
øø 
new
øø 
MemoryStream
øø  ,
(
øø, -

imageBytes
øø- 7
,
øø7 8
$num
øø9 :
,
øø: ;

imageBytes
øø< F
.
øøF G
Length
øøG M
)
øøM N
)
øøN O
{
¿¿ 
Image
¡¡ 
image
¡¡ 
=
¡¡ 
Image
¡¡ #
.
¡¡# $

FromStream
¡¡$ .
(
¡¡. /
ms
¡¡/ 1
,
¡¡1 2
true
¡¡3 7
)
¡¡7 8
;
¡¡8 9
return
¬¬ 
image
¬¬ 
;
¬¬ 
}
√√ 
}
ƒƒ 	
public
«« 
void
«« $
UploadMemberProfilePic
«« *
(
««* +
)
««+ ,
{
»» 	
}
   	
}
ÀÀ 
}ÃÃ å
âC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\obj\Debug\TemporaryGeneratedFile_036C0B5B-1481-4323-8D20-8F5ADCB23D92.cså
âC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\obj\Debug\TemporaryGeneratedFile_5937a670-0e60-4077-877b-f7221da3dda1.cså
âC:\Users\Kirtiranjan.Sahoo\Desktop\OnlineShopping\OnlineShopping\obj\Debug\TemporaryGeneratedFile_E7A71F73-0F8D-4B9B-B56E-8E70B10BC5D3.cs